/* 
 * ndkit.webkit.js (https://github.com/labeldock/ndkit)
 * Copyright HOJUNG-AHN. and other contributors
 * Released under the MIT license
 */
nd&&nd.PLUGIN(function(N,CORE){N.VERSION+=", webkit 0.0 alpah pre",N.BUILD+=", webkit(4)",!window.addEventListener&&function(e,t,n,r,i,o,a){e[r]=t[r]=n[r]=function(e,t){var n=this;a.unshift([n,e,t,function(e){e.currentTarget=n,e.preventDefault=function(){e.returnValue=!1},e.stopPropagation=function(){e.cancelBubble=!0},e.target=e.srcElement||n,t.call(n,e)}]),this.attachEvent("on"+e,a[0][3])},e[i]=t[i]=n[i]=function(e,t){for(var n,r=0;n=a[r];++r)if(n[0]==this&&n[1]==e&&n[2]==t)return this.detachEvent("on"+e,a.splice(r,1)[0][3])},e[o]=t[o]=n[o]=function(e){return this.fireEvent("on"+e.type,e)}}(Window.prototype,HTMLDocument.prototype,Element.prototype,"addEventListener","removeEventListener","dispatchEvent",[]),N.include=function(e){var t,n=/\.([^\.]+)$/.exec(e)[1];"js"===n?(t=document.createElement("script"),t.setAttribute("type","text/javascript"),t.setAttribute("src",e)):"css"===n&&(t=document.createElement("link"),t.setAttribute("rel","stylesheet"),t.setAttribute("type","text/css"),t.setAttribute("href",e)),document.getElementsByTagName("head")[0].appendChild(t)},N.url={info:function(t){var n;return CORE.TRY_CATCH(function(){n=/([\w]+)(\:[\/]+)([^\/]*\@|)([\w\d\.\-\_\+]+)(\:[\d]+|)(\/|)([\w\d\.\/\-\_]+|)(\?[\d\w\=\&\%]+|)(\#[\d\w]*|)/.exec(t?t:window.document.URL.toString())},function(){n=null}),null===n?(console.error("N.url.info::faild get url info",e),null):{url:window.document.URL.toString(),protocol:n[1],divider:n[2],userinfo:n[3],hostname:n[4],port:n[5].substring(1),path:n[6]+n[7],query:n[8],fragment:n[9],filename:/(\/|)([\w\d\.\-\_]+|)$/.exec(n[6]+n[7])[2]}},root:function(e){var t=N.url.info(e),n=t.protocol+t.divider+t.hostname+(""!==t.port?":"+t.port:t.port);return/\/$/.test(n)?n:n+"/"},script:function(){var e,t=document.getElementsByTagName("script"),n=t[t.length-1];return n?e=n.src:console.warn("GETSCRIPTURL faild"),/^[\w]+\:\//.test(e)||(e=N.url.root()+e),e},scriptRoot:function(){return N.url.script().replace(/([^\/]+$)/,"")}},N.ENV=function(){var e={};e.online=navigator?navigator.onLine:!1,e.supportLocalStorage=window&&"localStorage"in window?!0:!1,e.localStorage=window.localStorage,e.supportSessionStorage=window&&"sessionStorage"in window?!0:!1,e.sessionStorage=window.sessionStorage,e.supportStorage=e.supportLocalStorage||e.supportSessionStorage,e.storage=e.localStorage||e.sessionStorage,e.supportComputedStyle=window&&"getComputedStyle"in window?!0:!1;var t=function(e){return e.match(/^Webkit/)?"-webkit-":e.match(/^Moz/)?"-moz-":e.match(/^O/)?"-o-":e.match(/^ms/)?"-ms-":""},n={};e.getCSSName=function(e){if("string"!=typeof e)return e+"";e.trim();for(var t in n)if(0===e.indexOf(t)){var r=n[t];if(r.length)return r+e}return e};var r=document.createElement("div");return support=!1,"transform WebkitTransform MozTransform OTransform msTransform".replace(/\S+/g,function(e){e in r.style&&(support=!0,n.transform=t(e))}),e.supportTransform=support,support=!1,"transition WebkitTransition MozTransition OTransition msTransition".replace(/\S+/g,function(e){e in r.style&&(support=!0,n.transition=t(e))}),e.supportTransition=support,e.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia,e.supportGetUserMedia=!!e.getUserMedia,e.supportNodeListSlice=function(){try{return Array.prototype.slice.call(NodeList),!0}catch(e){return!1}}(),e.querySelectorAllName="querySelectorAll"in document?"querySelectorAll":"webkitQuerySelectorAll"in document?"webkitQuerySelectorAll":"msQuerySelectorAll"in document?"msQuerySelectorAll":"mozQuerySelectorAll"in document?"mozQuerySelectorAll":"oQuerySelectorAll"in document?"oQuerySelectorAll":!1,e.supportQuerySelectorAll=!!e.querySelectorAllName,e.supportStandardQuerySelectorAll="querySelectorAll"===e.querySelectorAllName,e.matchesSelectorName="matches"in r?"matches":"webkitMatchesSelector"in r?"webkitMatchesSelector":"msMatchesSelector"in r?"msMatchesSelector":"mozMatchesSelector"in r?"mozMatchesSelector":"oMatchesSelector"in r?"oMatchesSelector":!1,e.supportMatches=!!e.matchesSelectorName,e.supportStandardMatches="matches"===e.matchesSelectorName,e}();var QUERY_SELECTOR_NAME=N.ENV.querySelectorAllName;if(N.QUERY_SELECTOR_ENGINE=N.ENV.supportQuerySelectorAll&&N.ENV.supportNodeListSlice?function(e,t){try{return Array.prototype.slice.call((e||document)[QUERY_SELECTOR_NAME](t.replace(/\[[\w\-\_]+\=[^\'\"][^\]]+\]/g,function(e){return e.replace(/\=.+\]$/,function(e){return'="'+e.substr(1,e.length-2)+'"]'})})))}catch(n){console.error("Nody::QUERY_SELECTOR_ENGINE error",e,t),N.DEBUGER===!0}}:function(e,t){try{var n=(e||document)[QUERY_SELECTOR_NAME](t.replace(/\[[\w\-\_]+\=[^\'\"][^\]]+\]/g,function(e){return e.replace(/\=.+\]$/,function(e){return'="'+e.substr(1,e.length-2)+'"]'})}))}catch(r){console.error("Nody::QUERY_SELECTOR_ENGINE error",e,t),N.DEBUGER===!0}for(var i=[],o=0,a=n.length;a>o;o++)n[o]&&i.push(n[o]);return i},N.QUERY_SELECTOR_ENGINE?N.QUERY_SELECTOR_ENGINE_ID="browser":"function"==typeof Sizzle?(console.info("nody is sizzle selector engine detected"),N.QUERY_SELECTOR_ENGINE=function(e,t){return Sizzle(t,e)},N.QUERY_SELECTOR_ENGINE_ID="sizzle"):"function"==typeof jQuery&&(console.info("nody is jquery selector engine detected"),N.QUERY_SELECTOR_ENGINE=function(e,t){return jQuery(t,e).toArray()},N.QUERY_SELECTOR_ENGINE_ID="jquery"),!N.QUERY_SELECTOR_ENGINE)throw N.QUERY_SELECTOR_ENGINE_ID=null,new Error("Nody::ENV::IMPORTANT!! - querySelectorEngine is not detected");var MATCHES_SELECTOR_NAME=N.ENV.matchesSelectorName;if(N.MATCHES_SELECTOR_ENGINE=N.ENV.supportMatches&&function(e,t){return e[MATCHES_SELECTOR_NAME](t.replace(/\[[\w\-\_]+\=[^\'\"][^\]]+\]/g,function(e){return e.replace(/\=.+\]$/,function(e){return'="'+e.substr(1,e.length-2)+'"]'})}))},N.MATCHES_SELECTOR_ENGINE?N.MATCHES_SELECTOR_ENGINE_ID="browser":"function"==typeof Sizzle?(N.MATCHES_SELECTOR_ENGINE=function(e,t){return Sizzle.matchesSelector(e,t)},N.MATCHES_SELECTOR_ENGINE_ID="sizzle"):"function"==typeof jQuery&&(N.MATCHES_SELECTOR_ENGINE=function(e,t){return jQuery(e).is(t)},N.MATCHES_SELECTOR_ENGINE_ID="jquery"),!N.MATCHES_SELECTOR_ENGINE)throw N.MATCHES_SELECTOR_ENGINE_ID=null,new Error("Nody::ENV::IMPORTANT!! - matchesSelectorEngine is not detected");if(1==window.nodyLoadException)throw new Error("Nody Process Foundation init cancled");var STORE_DEFAULT_EXPIRE_TIME=576e5,STORE_DEFAULT_PERSISTENT_TIME=2e9;N.SINGLETON("STORE",{setCookie:function(e,t,n,r){document.cookie=e+"="+escape(t)+(void 0==n?"":"; expires="+n.toGMTString())+";path="+("undefined"==typeof r?"/":escape(r))},getCookie:function(e,t){var n=e+"=";if(document.cookie.length>0){var r=document.cookie.indexOf(n);if(-1!=r){r+=n.length;var i=document.cookie.indexOf(";",r);return-1==i&&(i=document.cookie.length),unescape(document.cookie.substring(r,i))}}return null},usingCookie:function(e){return this.getCookie(e)?!0:!1},touchCookie:function(e,t,n){if(!this.getCookie(e)){n||(n="true"),t||(t=STORE_DEFAULT_EXPIRE_TIME);var r=new Date,i=new Date;return i.setTime(r.getTime()+t),setCookie(e,n,i),!0}return!1},removeCookie:function(e,t){t=";path="+("undefined"==typeof t?"/":escape(t)),document.cookie=e+"="+t+";expires=Thu, 01 Jan 1970 00:00:01 GMT"},setLocalData:function(){return N.ENV.supportLocalStorage?function(e,t){return N.ENV.localStorage.setItem(e,N.toDataString(t)),!0}:function(e,t){return this.setCookie(e,N.toDataString(t))}}(),localData:function(){return N.ENV.supportLocalStorage?function(e){if(!arguments.length)return N.ENV.localStorage;var t=N.ENV.localStorage.getItem(e);return null==t?void 0:N.fromDataString(t)}:function(e){N.fromDataString(this.getCookie(e))}}(),usingLocalData:function(){return N.ENV.supportLocalStorage?function(e){return N.ENV.localStorage.getItem(e)?!0:!1}:function(e){this.usingCookie(e)}}(),touchLocalData:function(){return N.ENV.supportLocalStorage?function(e,t){this.usingLocalData(e)||this.setLocalData(e,t)}:function(e,t){this.touchCookie(e,N.toDataString(t))}}(),removeLocalData:function(){return N.ENV.supportLocalStorage?function(e){N.ENV.localStorage.removeItem(e)}:function(e){this.removeCookie(e)}}(),setSessionData:function(){return N.ENV.supportSessionStorage?function(e,t){return N.ENV.sessionStorage.setItem(e,N.toDataString(t)),!0}:function(e,t){return this.setCookie(e,N.toDataString(t))}}(),sessionData:function(){return N.ENV.supportSessionStorage?function(e){if(!arguments.length)return N.ENV.sessionStorage;var t=N.ENV.sessionStorage.getItem(e);return null==t?void 0:N.fromDataString(t)}:function(e){N.fromDataString(this.getCookie(e))}}(),usingSessionData:function(){return N.ENV.supportSessionStorage?function(e){return N.ENV.sessionStorage.getItem(e)?!0:!1}:function(e){this.usingCookie(e)}}(),touchSessionData:function(){return N.ENV.supportSessionStorage?function(e,t){this.usingSessionData(e)||this.setSessionData(e,t)}:function(e,t){this.touchCookie(e,N.toDataString(t))}}(),removeSessionData:function(){return N.ENV.supportSessionStorage?function(e){N.ENV.sessionStorage.removeItem(e)}:function(e){this.removeCookie(e)}}(),setClipboard:function(e){if(window.clipboardData&&clipboardData.setData)clipboardData.setData("Text",e);else{user_pref("signed.applets.codebase_principal_support",!0),netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect");var t=Components.classes["@mozilla.org/widget/clipboard;[[[[1]]]]"].createInstance(Components.interfaces.nsIClipboard);if(!t)return;var n=Components.classes["@mozilla.org/widget/transferable;[[[[1]]]]"].createInstance(Components.interfaces.nsITransferable);if(!n)return;n.addDataFlavor("text/unicode");var r=new N.HashSource,r=(new N.HashSource,Components.classes["@mozilla.org/supports-string;[[[[1]]]]"].createInstance(Components.interfaces.nsISupportsString)),i=meintext;r.data=i,n.setTransferData("text/unicode",r,i.length*[[[[2]]]]);var o=Components.interfaces.nsIClipboard;if(!t)return!1;t.setData(n,null,o.kGlobalClipboard)}},toDataString:function(e){return"boolean"==typeof e?e?"true":"false":N.toString(e,99,!0)},fromDataString:function(v){return"string"==typeof v?'"'==v.charAt(0)&&'"'==v.charAt(v.length-1)?v.substr(1,v.length-2):/^(\s+|)$/.test(v)?"":eval("("+v+")"):v}}),N.STORE.EACH_TO_METHOD();var FLASH_STORE_KEY="NODY_FLASH_PERSISTANCE_STORE",FLASH_STORE_BEFORE=N.sessionData(FLASH_STORE_KEY)||{},FLASH_STORE_CURRENT={};window&&window.addEventListener("beforeunload",function(e){N.removeSessionData(FLASH_STORE_KEY),N.propLength(FLASH_STORE_CURRENT)>0&&N.setSessionData(FLASH_STORE_KEY,FLASH_STORE_CURRENT)}),N.SINGLETON("FLASH",{flash:function(e){return arguments.length?N.fromDataString(FLASH_STORE_BEFORE[e]):FLASH_STORE_BEFORE},nextFlash:function(e,t){return arguments.length>1?(FLASH_STORE_CURRENT[e]=N.toDataString(t),!0):arguments.length?FLASH_STORE_CURRENT[e]:FLASH_STORE_CURRENT}}),N.FLASH.EACH_TO_METHOD(),N.SINGLETON("CLIENTKIT",{width:function(){return window.innerWidth||document.documentElement.clientWidth||document.getElementsByTagName("body")[0].clientWidth},height:function(){return window.innerHeight||document.documentElement.clientHeight||document.getElementsByTagName("body")[0].clientHeight},bound:function(){return{width:this.width(),height:this.height()}},url:function(){return window.document.URL.toString()},urlInfo:function(e){return N.url.info()},root:function(e,t){return N.url.root()},protocol:function(e){var t=this.urlInfo(e);return t.protocol},uri:function(e){var t=this.urlInfo(e);return t.path},filename:function(e){var t=this.urlInfo(e);return t.filename},filepath:function(e,t){var n=this.urlInfo(e),r=n.protocol+n.divider+n.hostname+(""!=n.port?":"+n.port:n.port);return r+n.path.replace(/\/[^\/]+$/,"")+(0==t?"":"/")},getAbsolutePath:function(e,t){if(N.isNothing(e))return this.url();if(N.likeString(e)&&null==this.urlInfo(e)){if(e=e.trim(),0==e.indexOf("./")&&(e=e.substr(2)),0==e.indexOf("/"))return this.root(void 0,!1)+e;for(var n=0,r=this.filepath(t),i=e.replace(/\.\.\//gi,function(e){return n++,""}),o=0;n>o;o++)r=r.replace(/[^\/]+\/$/,"");return r+i}return e},query:function(e){var t=this.urlInfo(e);return t.query},fragment:function(e){var t=this.urlInfo(e);return t.fragment},queryData:function(e){var t=this.urlInfo(e);return N.toObject(t.query)},scriptUrl:function(){var e=N.url.script();return function(){return e}}(),scriptInfo:function(e){return this.urlInfo(e?e:this.scriptUrl())},scriptName:function(e){return this.scriptInfo(e).filename},scriptPath:function(e){return this.scriptInfo(e).path},scriptRoot:function(e){return/(.*\/|\/|)[^\/]*$/.exec(this.scriptInfo(e).path)[1]},isEventSupport:function(e,t){var n="object"==typeof t?t:document.createElement("string"==typeof t?t:"div"),r=e in n;return!r&&"setAttribute"in n?(n.setAttribute(e,"return;"),"function"==typeof n[e]):r},isLocalHTML:function(){return location.href.indexOf(!1)||location.href.indexOf(!1)?!0:!1},include:function(e){return N.include(e)},cursorPoint:function(e){e=e||window.event;var t={x:0,y:0};return e.touches&&e.touches[0]?(t.x=e.touches[0].pageX,t.y=e.touches[0].pageY):e.pageX||e.pageY?(t.x=e.pageX,t.y=e.pageY):(t.x=e.clientX+(document.documentElement.scrollLeft||document.body.scrollLeft)-document.documentElement.clientLeft,t.y=e.clientY+(document.documentElement.scrollTop||document.body.scrollTop)-document.documentElement.clientTop),t},getFlashVersion:function(){try{try{var e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");try{e.AllowScriptAccess="always"}catch(t){return"6,0,0"}}catch(t){}return new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(t){try{if(navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin)return(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(t){}}return"0,0,0"},getMajorFlashVersion:function(){return parseInt(this.getFlashVersion().split(",")[0])}});var ELUT_REGEX=new RegExp("("+["\\:[^\\:]+","^[\\w\\-TA_]+","\\[[\\w\\-\\_]+\\]|\\[\\'[\\w\\-\\_]+\\'\\]|\\[\\\"[\\w\\-\\_]+\\\"\\]","\\[[\\w\\-\\_]+\\=[^\\]]+\\]|\\[\\'[\\w\\-\\_]+\\'\\=\\'[^\\]]+\\'\\]|\\[\\\"[\\w\\-\\_]+\\\"\\=\\\"[^\\]]+\\\"\\]","\\#[\\w\\-\\_]+","\\.[\\w\\-\\_]+","\\?[\\w\\-\\_]+","\\![\\w\\-\\_]+","::.*$"].join("|")+")","gi");safeParseMap={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"]},safeParseMap.optgroup=safeParseMap.option,safeParseMap.tbody=safeParseMap.tfoot=safeParseMap.colgroup=safeParseMap.caption=safeParseMap.thead,safeParseMap.th=safeParseMap.td,N.SINGLETON("ELUT",{parseHTML:function(e){var t=N.cache.get("N.parseHTML",e);if(t)return N.cloneNodes(t);if(!/<|&#?\w+;/.test(e))return[];var n=/<([\w]+)/.exec(e),n=n?n[1].toLowerCase():"",r=document.createElement("div"),i=0;n in safeParseMap?(r.innerHTML=safeParseMap[n][1]+e+safeParseMap[n][2],i=safeParseMap[n][0]):r.innerHTML=e;for(;i--;)r=r.lastChild;return N.cache.set("N.parseHTML",e,N.cloneNodes(r.children)),N.toArray(r.children)},selectorInfo:function(e,t){e="string"!=typeof e?"":e;var n=N.cache.get("N.selectorInfo",e);if(n)n=N.cloneObject(n);else{var n={},r=[],i=e;i=i.replace(ELUT_REGEX,function(e){return e&&r.push(e),""});for(var o=r.concat(N.safeSplit(i,":","()",!0)),a=0,s=o.length;s>a;a++){var u=/(.?)((.?).*)/.exec(o[a]);switch(u[1]){case"#":n.id||(n.id=u[2]);break;case".":n["class"]?(n["class"]+=" ",n["class"]+=u[2]):n["class"]=u[2];break;case":":if(":"==u[3])n["::"]=u[0].substr(2);else{n[":"]||(n[":"]={});var c=/(:([\w\-\_]+))(\((.*)\)$|)/.exec(u[0]);switch(c[1]){case":disabled":case":readonly":case":checked":n[":"][c[2]]=!0;break;case":nth-child":n[":"][c[2]]=void 0===c[4]?null:c[4].match(/^(even|odd)$/)?c[4]:CORE.NUMBER.NUMBER(c[4]);break;case":contains":case":has":case":not":n[":"][c[2]]=c[4];break;case":first-child":case":last-child":case":only-child":case":even":case":odd":case":hover":n[":"][c[2]]=null;break;default:n[":"][c[2]]=c[4]}}break;case"!":n.name=u[2];break;case"?":n.type=u[2];break;case"[":var l=/\[([\"\'\w\-\_]+)(=|~=|)(.*|)\]$/.exec(u[0]);n[N.unwrap(l[1],["''",'""'])]=l[3]?N.unwrap(l[3],["''",'""']):null;break;default:switch(u[0].toLowerCase()){case"checkbox":case"file":case"hidden":case"hidden":case"password":case"radio":case"submit":case"text":case"reset":case"image":case"number":n.tagName="input",n.type=u[0];break;default:n.tagName=u[0].toLowerCase()}}}N.cache.set("N.selectorInfo",e,N.cloneObject(n))}var l=N.clone(N.toObject(t,"html"));"html"in l&&(l["::"]=l.html,delete l.html);for(var f in l)n[f]=l[f];return n},pushCSSExpression:function(e,t){if(N.isElement(e)){var n="string"==typeof t?N.selectorInfo(t):"object"==typeof t?t:void 0;if("object"==typeof n)for(var r in n)switch(r){case":":case"::":case"tagName":break;default:null===n[r]||void 0===n[r]?e.setAttribute(r,""):e.setAttribute(r,n[r])}}return e},parseTag:CORE.PIPE(function(e,t){if("object"==typeof e){var n=[];return N.each(e,function(e){N.isElement(e)&&n.push(e.outerHTML)}),n.join("")}if(arguments.length>1&&("string"==typeof t||"number"==typeof t)){for(var r="",i=1,o=arguments.length;o>i;i++)"undefined"!=typeof arguments[i]&&(r+=arguments[i]);t=r}var a,s,u="string"==typeof t||"undefined"==typeof t?!0:!1;if(u){s=e;var c=N.cache.get("N.parseTag",s);if(c)return t?c[0]+t+c[1]:c[0]+c[1]}var a=N.selectorInfo(e,t);"tagName"in a&&"*"!=a.tagName||(a.tagName="div");var l="";for(var f in a)switch(f){case"tagName":case"::":break;case":":for(inkey in a[f])switch(inkey){case"disabled":case"checked":case"selected":l+=" "+inkey}break;default:l+=void 0==typeof a[f]||null==a[f]?" "+f:" "+f+'="'+a[f]+'"'}l=l.trim();var d,h,f="<"+a.tagName+(l.length<1?"":" "+l),p=a["::"]||"";return"input"==a.tagName?(d=f+' value="',h='"/>'):(d=f+">",h="</"+a.tagName+">"),s&&N.cache.set("N.parseTag",s,[d,h]),d+p+h},1)}),N.ELUT.EACH_TO_METHOD(),N.SINGLETON("NODEKIT",{attr:function(e,t,n){if(!N.isElement(e))return console.error("N.NODEKIT.attr\uc740 element\ub9cc \uac00\ub2a5\ud569\ub2c8\ub2e4. => \ub4e4\uc5b4\uc628\uac12"+N.tos(e)),null;if(1===arguments.length)return N.inject(e.attributes,function(t,n){t[n.name]=e.getAttribute(n.name)});if("object"==typeof t)for(var r in t)e.setAttribute(r,t[r]);else if("string"==typeof t){var i="undefined"==typeof n,o=t.toLowerCase();switch(o){case"readonly":if("readOnly"in e)return i?e.readOnly:(e.readOnly=n,e);break;case"disabled":case"checked":if(o in e)return i?e[o]:(e[o]=n,e)}if(i){var a=e.getAttribute&&e.getAttribute(t)||null;if(!a){var s=e.attributes;if(!N.isNothing(s))for(var u=s.length,c=0;u>c;c++)s[c].nodeName===t&&(a=s[c].value,"undefined"==typeof a&&(a=s[c].nodeValue))}return a}e.setAttribute(t,n)}return e},root:function(e){if(N.isElement(e)){var t=function(e){return e.parentElement?t(e.parentElement):e};return t(e)}},parents:function(e){if(N.isElement(e)){var t=[],n=function(e){e.parentElement&&(t.push(e.parentElement),n(e.parentElement))};return n(e),t}},the:function(e,t){return N.MATCHES_SELECTOR_ENGINE(e,t)},is:function(e,t){return N.isElement(e)?"undefined"==typeof t||"*"==t||""==t?!0:N.MATCHES_SELECTOR_ENGINE(e,t):!1},query:function(e,t){return"string"!=typeof e||0==e.trim().length?[]:(t="undefined"==typeof t?document:N.isElement(t)?t:document,t==document?N.QUERY_SELECTOR_ENGINE(t,e):N.MATCHES_SELECTOR_ENGINE(t,e)?[t].concat(Array.prototype.slice.call(N.QUERY_SELECTOR_ENGINE(t,e))):N.QUERY_SELECTOR_ENGINE(t,e))},feedDownWhile:function(e,t,n){if(t.call(e,e)!==!1)for(var r=N.toArray(n.call(e,e)),i=0,o=r.length;o>i;i++)N.NODEKIT.feedDownWhile(r[i],t,n)},style:function(e,t,n){if("undefined"==typeof t)return N.ENV.supportComputedStyle?window.getComputedStyle(e,null):e.currentStyle;if("string"==typeof t){var r=N.ENV.getCSSName(t);if(arguments.length<3)return N.ENV.supportComputedStyle?window.getComputedStyle(e,null).getPropertyValue(r):e.currentStyle[camelCase(r)];var i=N.node.attr(e,"style")||"";if(null===n)i=i.replace(new RegExp("(-webkit-|-o-|-ms-|-moz-|)"+t+"(.?:.?|)[^;]+;","g"),function(e){return""}),N.node.attr(e,"style",i);else{var o=N.ENV.getCSSName(n);i=i.replace(new RegExp("(-webkit-|-o-|-ms-|-moz-|)"+t+".?:.?[^;]+;","g"),""),N.node.attr(e,"style",r+":"+o+";"+i)}}else"object"==typeof t&&N.propEach(t,function(t,n){"string"==typeof n&&N.NODEKIT.style(e,n,t)})},position:function(e){if(!e)return null;for(var t=0,n=0;e;)t+=e.offsetLeft-e.scrollLeft+e.clientLeft,n+=e.offsetTop-e.scrollTop+e.clientTop,e=e.offsetParent;return{x:t,y:n}},mousePosition:function(e,t){t=t?t:document.documentElement;var n=this.position(t);return n.x=e.clientX-n.x,n.y=e.clientY-n.y,n}}),N.SINGLETON("FINDKIT",{findLite:function(e){if("string"==typeof e)return N.NODEKIT.query(e);if(N.isElement(e))return[e];if(N.isArray(e)){for(var t=[],n=0,r=e.length;r>n;n++)if("string"==typeof e[n]){var i=N.NODEKIT.query(e[n]);i.length&&(t=t.concat(i))}else if(N.isElement(e[n]))t.push(e[n]);else if(N.isArray(e[n])){var o=N.findLite(e[n]);o.length&&(t=t.concat(o))}return N.unique(t)}return[]},findByOnePlace:function(e,t){if("string"==typeof e)return N.NODEKIT.query(e,t);if(N.isElement(e))for(var n=N.NODEKIT.query(N.node.trace(e),t),r=0,i=n.length;i>r;r++)if(e===n[r])return[e];if(N.isArray(e)){for(var o=[],r=0,i=e.length;i>r;r++){var a=N.findByOnePlace(e[r],t);a.length&&(o=o.concat(a))}return N.unique(o)}return[]},findBySeveralPlaces:function(e,t){if(1===arguments.length||"undefined"==typeof t||null===t||t===window.document)return N.findLite(e);var n=N.findLite(t);if(0===n.length)return N.findLite(e);for(var r=N.toArray(e),i=[],o=0,a=n.length;a>o;o++)for(var s=0,u=r.length;u>s;s++){var c=N.findByOnePlace(r[s],n[o]);c.length&&(i=i.concat(c))}return N.unique(i)},find:CORE.PIPE(function(e,t,n){return"number"==typeof t?N.findLite(e)[t]:"number"==typeof n?N.findBySeveralPlaces(e,t)[n]:N.findBySeveralPlaces(e,t)}),findMember:CORE.PIPE(function(e,t){var n=N.findLite(e)[0];if(N.isElement(n)){if("number"!=typeof t)return N.toArray(n.parentElement.children);var r=-1;return N.each(n.parentNode.children,function(e,t){return n==e?(r=t,!1):void 0}),n.parentNode.children[r+t]}},1),findNodes:CORE.PIPE(function(e){return nd.filter.BOOST(e,function(e){return CORE.TYPEOF.NODE(e)})},1),attributes:CORE.PIPE(function(e){var t={};for(var n in e.attributes)e.attributes.hasOwnProperty(n)&&"object"==typeof e.attributes[n]&&(t[e.attributes[n].name]=e.attributes[n].value);return t},1),findIn:CORE.PIPE(function(e,t,n){return"number"==typeof n?N.findBySeveralPlaces(t||"*",N.map(N.findBySeveralPlaces(e),function(e){return e.children},N.argumentsFlatten))[n]:"number"==typeof t?N.findBySeveralPlaces("*",N.map(N.findBySeveralPlaces(e),function(e){return e.children},N.argumentsFlatten))[t]:N.findBySeveralPlaces(t||"*",N.map(N.findBySeveralPlaces(e),function(e){return e.children},N.argumentsFlatten))},2),findOn:CORE.PIPE(function(e,t){var n=N.map(N.findBySeveralPlaces(e),function(e){return e.children},N.argumentsFlatten);switch(typeof t){case"number":return[n[t]];case"string":return N.filter(n,function(e){return N.NODEKIT.is(e,t)});default:return n}},1),findParents:CORE.PIPE(function(e,t,n){return"string"==typeof t?"number"==typeof n?N.filter(N.NODEKIT.parents(N.findBySeveralPlaces(e)[0]),function(e){return N.node.is(e,t)})[n]:N.filter(N.NODEKIT.parents(N.findBySeveralPlaces(e)[0]),function(e){return N.node.is(e,t)}):"number"==typeof t?N.NODEKIT.parents(N.findBySeveralPlaces(e)[0])[t]:N.NODEKIT.parents(N.findBySeveralPlaces(e)[0])},1),findRoot:CORE.PIPE(function(e){return N.NODEKIT.root(N.findLite(e)[0])},1),findBefore:CORE.PIPE(function(e,t){e=N.findLite(e)[0];var n=N.node.index(e),r=[];if("number"==typeof n)switch(typeof t){case"string":for(var i=0,o=n;o>i;i++){var a=e.parentNode.children[i];N.node.is(a,t)&&r.push(a)}break;case"number":r.push(e.parentNode.children[n-(t+1)]);break;default:for(var i=0,o=n;o>i;i++)r.push(e.parentNode.children[i])}return r},1),findAfter:CORE.PIPE(function(e,t){e=N.findLite(e)[0];var n=N.node.index(e),r=[];if("number"==typeof n)switch(typeof t){case"string":for(var i=n+1,o=e.parentNode.children.length;o>i;i++){var a=e.parentNode.children[i];N.node.is(a,t)&&r.push(a)}break;case"number":r.push(e.parentNode.children[n+(t+1)]);break;default:for(var i=n+1,o=e.parentNode.children.length;o>i;i++)r.push(e.parentNode.children[i])}return r},1),findParent:CORE.PIPE(function(e,t,n){if("number"==typeof t||"string"==typeof t&&"number"==typeof n)return N.first(N.findParents(e,t,n));var r=N.findLite(e)[0];if(r){if("string"!=typeof t)return r.parentElement;var i=N.NODEKIT.parents(r);for(var o in i)if(N.NODEKIT.is(i[o],t))return i[o]}return void 0},1),findDocument:CORE.PIPE(function(e){var t=N.findLite(e)[0];if(t){if("IFRAME"==t.tagName)return t.contentDocument||t.contentWindow.document;if(N.isDocument(t))return t}else console.warn("iframe\uc744 \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.",e)},1),findTree:CORE.PIPE(function(e,t){var n=N.findLite(e)[0];if(!n)return[];var r=N.findParents(n,N.map,function(){return t===!0?N.node.trace(this):this});return r.reverse(),r.push(t===!0?N.node.trace(n):n),r},1),inside:CORE.PIPE(function(e,t){var n=N.findLite(e);return n.length&&N.find(t,e).length?!0:!1},1),outside:CORE.PIPE(function(e,t){var n=N.findLite(t);return n.length&&N.find(e,n).length?!1:!0},1),findOffset:function(e,n,r){var e=N.findLite(e)[0];if(e){var i=t=0,o=e.offsetWidth,a=e.offsetHeight;for(n=N.findLite(n)[0]||document.body;;){if(i+=e.offsetLeft,t+=e.offsetTop,r===!0&&console.log(i,t,e,n),!e.offsetParent)break;if(e===n)break;e=e.offsetParent}var s=[i,t,o,a];return s.x=i,s.y=t,s.width=o,s.height=a,s}}}),N.FINDKIT.EACH_TO_METHOD(),N.SINGLETON("MAKEKIT",{create:function(e,t,n){var r,i,e="string"!=typeof e?"div":e.trim();e=e.replace(/\[\[[\w\-\=\s]+\]\]/gi,function(e){e=e.substr(2,e.length-4);var t=e.indexOf("=");return e.length-1===t?"[nd-"+e.substring(0,e.length-1)+"]":t>0?"[nd-"+e.substr(0,t)+"="+e.substr(t+1)+"]":"[nd-val="+e+"]"});var o,a,s=e,u=!1;switch(typeof t){case"object":"dataset"in t&&(o=t.dataset,t=N.clone(t),delete t.dataset),"html"in t&&(a=t.html,delete t.html),"value"in t&&(a=t.value,delete t.value),N.isNothing(t)&&(u=!0,t=void 0);break;case"number":case"boolean":t+="";case"string":a=t,u=!0,t=void 0;break;case"undefined":u=!0;break;default:console.warn("N.create\uc758 \ub450\ubc88\uc9f8 \uac12\uc740 \uae00\uc790\ub098 \uc624\ube0c\uc81d\ud2b8\uc785\ub2c8\ub2e4. \ub4e4\uc5b4\uc628 \uac12 ->",t),u=!0,t=void 0}if(u){var c=N.cache.get("N.create",s);c&&(r=N.cloneNodes(c)[0],i=!0)}if(i||(r=N.parseHTML(0!==e.indexOf("<")?N.parseTag(e,t):e)[0],u&&N.cache.set("N.create",s,N.cloneNodes(r)[0])),o)for(var l in o)r.dataset||(r.dataset={}),r.dataset[l]=o[l];return a&&("value"in r&&!r.tagName.match(/LI|BUTTON/)?r.setAttribute("value",a):r.innerHTML=a),n=N.findLite(n)[0],n&&(n==window.document&&(n=window.document.getElementsByTagName("body")[0]),n.appendChild(r)),r},makeText:CORE.PIPE(function(e){return window.document.createTextNode(e)},1),make:CORE.PIPE(function(e,t,n){if(N.isArray(t)||N.isElement(t)||N.isTextNode(t)){var r=N.create(e);return N.node.append(r,new N.Array(arguments).setSubarr(1).setFlatten().toArray()),r}if(N.isElement(n)||N.isTextNode(n)){var r=N.create(e,t);return N.node.append(r,new N.Array(arguments).setSubarr(2).setFlatten().toArray()),r}return N.create(e,t)},1),makes:CORE.PIPE(function(e,t){if("string"!=typeof e||!e)return[];var n=N.make("div"),r=e.toLowerCase().indexOf("template")>-1?!0:!1,i=e.indexOf(">");if(i>0){var o=e.substr(0,i),a=e.substr(i+1).trim(),s=a.indexOf("^"),u=a.indexOf(">");if(s>1&&(-1==u||s<a.indexOf(">")))var c,l,a=a.replace(/\^.+/,function(e){return c=e.replace(/[\^]+/,function(e){return l=e.length,""}).trim(),""}).trim()}else var o=e,a="";var f=N.safeSplit(o,"+","{}"),d=f.length-1;N.each(f,function(e,t){var r=1;e=e.replace(/\*[\d]+$/,function(e){return r=parseInt(e.substr(1)),""}),e=(e+" ").replace(/\$[^i]/,function(e){return"\\{$i+1}"});var i=e.indexOf("\\{")>-1?!0:!1;N.times(r,function(r){var o=i?N.exp.seed(r)(e):e,s=N.make(o);if(n.appendChild(s),t==d&&(a.length>0&&N.makes(a,s),c)){var u=n;N.times(l-1,function(){return u&&u.parentElement?void(u=u.parentElement):!1}),u&&N.makes(c,u)}})});var h=N.toArray(n.children);if(r&&N.each(N.find("template",n),function(e){"content"in e||(e.content=document.createDocumentFragment()),N.each(N.toArray(e.childNodes),function(t){e.content.appendChild(t)})}),t){var p=N.findLite(t)[0];if(p)for(var m=0,g=h.length;g>m;m++)p.appendChild(h[m])}return h},1),makeWrap:CORE.PIPE(function(e,t,n){var r=N.make(e),i=N.find(t,n);return i[0]&&i[0].parentElement&&N.node.before(i[0],r),N.node.append(r,i),r},1),makeCol:function(){return N.make("colgroup",N.map(arguments,function(e){return N.create("col",/^\d/.test(e)?{width:e}:{"class":e})}))},makeTemplate:function(e,t){var n="string"==typeof t?'<template id="'+t+'">':"<template>";return n+=e,n+="</template>",N.parseHTML(n)[0]},readURL:CORE.PIPE(function(e){if("object"==typeof e&&"function"==typeof e.toDataURL)return e.toDataURL();throw new Error("Can't not read")},1),makeImg:CORE.PIPE(function(e,t){if("string"==typeof e){var n={src:e};return t&&(n.style="width:"+N.toPx(t)+";"),N.make("img",n)}if(N.isElement(e)&&e.files&&e.files[0]){if(!e.files[0].type.match(/image.*/))return;var r=N.make("img"),i=new FileReader;return i.onload=function(e){r.src=e.target.result},i.readAsDataURL(e.files[0]),r}},1),makeCanvas:CORE.PIPE(function(e,t,n){function r(n){var r=document.createElement("img");r.onload=function(){i.getContext("2d").drawImage(this,0,0,e,t)},r.src=n}var i=document.createElement("canvas");if(i.setAttribute("width",e?e:"auto"),i.setAttribute("height",t?t:"auto"),N.isElement(n))if("IMG"===n.tagName)n=n.src;else if(n.files&&n.files[0]){var o=n.files[0];if(!o.type.match(/image.*/))return;var a=new FileReader;a.onload=function(e){r(e.target.result)},a.readAsDataURL(o),src=void 0}return"string"==typeof n?r(n):N.CALL(n,i,i.getContext("2d")),i},3),cloneNodes:function(e){return N.map(N.findLite(e),function(e){return e.cloneNode(e,!0)})},importNodes:function(e){"string"==typeof e&&(e=e.trim(),e=/^</.test(e)&&/>$/.test(e)?N.parseHTML(e):/^\#[\w\-]+$/.test(e)?N.findLite(e):N.makes(e));var t=[],n=N.findLite(e);return 0===n.length?(console.warn("importNodes::\ubcf5\uc0ac\ud560 \ub178\ub4dc\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.",e),t):(N.each(n,function(e){"content"in e?N.each(document.importNode(e.content,!0).childNodes,function(e){t.push(e)}):t.push(e.cloneNode(!0))}),N.findLite(t))},makeSampleNode:function(e,t){var e=nd.find(e,0);if(e){var n=N.first(Object.keys(N.attributes(e)),function(e){return console.log("keyname",e),/^\:w/.test(e)});console.log("RoleName",n)}var r,i=N.importNodes(e);if(1===i.length)r=i[0];else if(i.length>1){for(var o=N.make(t),a=0,s=i.length;s>a;a++)o.appendChild(i[a]);r=o}return r?"string"==typeof t?N.pushCSSExpression(r,t):r:console.warn("makeSampleNode::no result from",e)},cloneObject:function(e){if("object"==typeof e){var t={};for(var n in e)t[n]=e[n];return t}return N.toObject(e)}}),N.MAKEKIT.EACH_TO_METHOD();var APPEND_OR_INSERTBEFORE=function(e,t,n){"number"==typeof n&&e.children[n]?e.insertBefore(t,e.children[n]):e.appendChild(t)},ELKIT={hasFocus:function(e){return document.activeElement==N.findLite(e)[0]},caretPossible:function(e){var t=N.findLite(e)[0];return 1==N.node.hasFocus(t)&&(1==t.contentEditable||window.getSelection||document.selection)?!0:!1},caretPosition:function(e){var t,n,r,i,o,a=0,s=0;return"number"==typeof e.selectionStart&&"number"==typeof e.selectionEnd?(a=e.selectionStart,s=e.selectionEnd):(n=document.selection.createRange(),n&&n.parentElement()==e&&(i=e.value.length,t=e.value.replace(/\r\n/g,"\n"),r=e.createTextRange(),r.moveToBookmark(n.getBookmark()),o=e.createTextRange(),o.collapse(!1),r.compareEndPoints("StartToEnd",o)>-1?a=s=i:(a=-r.moveStart("character",-i),a+=t.slice(0,a).split("\n").length-1,r.compareEndPoints("EndToEnd",o)>-1?s=i:(s=-r.moveEnd("character",-i),s+=t.slice(0,s).split("\n").length-1)))),{start:a,end:s}},attr:function(e,t,n){var r=N.findLite(e)[0];return r?N.NODEKIT.attr.apply(void 0,[r].concat(Array.prototype.slice.call(arguments,1))):void 0},is:function(e,t){var n=N.findLite(e)[0];return n?N.NODEKIT.is(n,t):void 0},isLive:function(e,t){var n=N.findLite(e)[0];return n?"HTML"==N.NODEKIT.root(n).tagName:!1},filter:function(e,t){var n=N.findLite(e);if("string"!=typeof t)return console.warn("N.node.filter\ub294 string filter\ub9cc \ub300\uc751\ud569\ub2c8\ub2e4."),n;for(var r=[],i=0,o=n.length;o>i;i++)N.node.is(n[i],t)&&r.push(n[i]);return r},content:function(e,t){if(arguments.length<2){var n=N.findLite(e)[0];return n?n.textContent||n.innerText:void 0;
}return N.each(N.findLite(e),function(e){"textContent"in e?e.textContent=t+"":e.innerText=t+""})},text:function(e,t){return ELKIT.content.apply(ELKIT,Array.prototype.slice.call(arguments))},value:function(e,t,n){var r,i=N.findLite(e);if(0!=i.length){if(i.length>1){var o=i[0],a=N.node.attr(o,"name");if("radio"==N.node.attr(o,"type")&&!N.isNothing(a)){if(N.likeString(t)){var s=N.find(N.node.filter(i,"[type=radio][name="+a+"]::"+t,0));return s&&(s.checked=!0),s}return N.find(N.node.filter(i,"[type=radio][name="+a+"]:checked"),0)||""}}switch(r=N.first(i),nodeName=r.tagName.toLowerCase(),nodeName){case"img":return arguments.length<2?r.src:(r.src=t,r);case"link":return arguments.length<2?r.rel:(r.rel=t,r);case"script":var u=r.getAttribute("type");return"string"==typeof u&&u.indexOf("json")>-1?arguments.length<2?N.toObject(N.node.content(r)):N.node.content(r,N.toString(t)):arguments.length<2?r.src:(r.src=t,r);case"input":case"option":case"textarea":if("option"==nodeName){var c=N.NODEKIT.query(":selected",r);return N.isElement(c)?c.value:r.value}if("undefined"==typeof t)return r.value;return r.value=t,r;case"select":if("undefined"==typeof t)return r.value;var l=N.find("[value="+t+"]",r);if(l.length>0){var f=N.first(l);return f.selected=!0,f}return!1;default:if(arguments.length<2)return n===!0?N.node.content(r):r.innerHTML;n===!0?r.innerHTML=t:N.node.content(r,t)}return r}},unique:function(e,t){return N.find(e,t,N.each,function(e){N.node.hasAttr(e,"id")||e.setAttribute("id",N.RANDKIT.base26UniqueRandom(8,"uq"))})},uniqueID:function(e,t){var n=N.find(e,t,0);return n?(N.node.unique(n),n.getAttribute("id")):void 0},trace:function(e,t){var n=N.findLite(e)[0];if(n){var r=n.tagName.toLowerCase(),i=tclass=tname=tattr=tvalue="";if(N.propEach(N.NODEKIT.attr(n),function(e,r){switch(r){case"id":var o=n.getAttribute(r);o.length&&(i="#"+o);break;case"class":tclass=n.getAttribute(r).trim().replace(/\s\s/g," ").split(" ").join("."),tclass&&(tclass="."+tclass);break;case"name":tname="[name="+n.getAttribute(r)+"]";break;case"value":break;default:1==t&&(attrValue=n.getAttribute(r),tattr+=""==attrValue||null==attrValue?"["+r+"]":"["+r+"="+attrValue+"]")}}),1==t&&!/table|tbody|thead|tfoot|ul|ol/.test(r)){var o=N.node.value(n);(void 0!==typeof o||null!==o)&&"string"==typeof o&&0!==o.length&&(tvalue="::"+o),"string"==typeof tvalue&&(tvalue=tvalue.trim())}return r+i+tclass+tname+tattr+tvalue}console.warn("N.node.trace::target is not element or selector // target =>",e)},index:function(e){var t=N.findLite(e)[0],n=N.findParent(t);return n?N.index(n.children,t):void 0},append:function(e,t,n){var r=N.findLite(e)[0];if(!N.isElement(r))return e;for(var i=/^</.test(t)&&/>$/.test(t)?N.parseHTML(t):N.findLite(t),o=r.tagName.toLowerCase(),a="number"==typeof n?!0:!1,s="number"==typeof n&&0>n?0:n,u=0,c=i.length;c>u;u++)if(N.isElement(i[u]))switch(o){case"table":var l=i[u].tagName.toLowerCase();switch(l){case"colgroup":case"tbody":case"thead":case"tfoot":APPEND_OR_INSERTBEFORE(r,i[u],a?s++:void 0);break;case"tr":case"td":case"th":default:window.tb=r.tBodies,r.tBodies.length||(r.tFoot?r.appendChild(N.create("tbody")):r.insertBefore(N.create("tbody"),r.tFoot));var f=r.tBodies[r.tBodies.length-1];if("tr"==l)APPEND_OR_INSERTBEFORE(f,i[u],a?s++:void 0);else{var d=f.insertRow(f.children.length);switch(l){case"td":case"th":APPEND_OR_INSERTBEFORE(d,i[u],a?s++:void 0);break;default:var h=N.create("td");d.appendChild(h),APPEND_OR_INSERTBEFORE(h,i[u],a?s++:void 0)}}}break;case"tr":var l=i[u].tagName.toLowerCase();switch(l){case"td":case"th":APPEND_OR_INSERTBEFORE(r,i[u],a?s++:void 0);break;default:var h=N.create("td");r.appendChild(h),APPEND_OR_INSERTBEFORE(h,i[u],a?s++:void 0)}break;default:APPEND_OR_INSERTBEFORE(r,i[u],a?s++:void 0)}else N.isTextNode(i[u])?APPEND_OR_INSERTBEFORE(r,i[u],a?s++:void 0):console.warn("N.node.append :: \ucd94\uac00\ud558\ub824\ub294 \uc694\uc18c\ub294 Element\uc694\uc18c\uc5ec\uc57c \ud569\ub2c8\ub2e4.",i[u]);return r},prepend:function(e,t){var n=N.findLite(e)[0],r=/^</.test(t)&&/>$/.test(t)?N.parseHTML(t):N.findLite(t);if(N.isOk(n),N.isOk(r)){N.node.append(n,r);var i=N.findParent(r[0]);i&&N.each(r,function(e,t){i.insertBefore(e,i.childNodes[t])})}},appendTo:function(e,t){var n=N.findLite(e);return N.node.append(N.findLite(t)[0],n),n},prependTo:function(e,t){var n=N.findLite(e);return N.node.prepend(N.findLite(t)[0],n)},require:function(e,t,n){var e=N.findLite(e)[0];if(!e)return t;var r=N.findOn(e,t);if(r.length>1&&console.warn("require::require target must be single, please more specific select"),r.length>0)return r[0];var i=N.makes(t);return N.node.append(e,i,n),i.length>1?i:i[0]},css:function(e,t){return e&&"string"==typeof t?N.find(e,N.each,function(e){N.pushCSSExpression(e,t)}):N.find(e)},insertAfter:CORE.PIPE(function(e,t){var n=N.findLite(e)[0];if(n&&n.parentElement){var r=N.findLite(t);if(r.length){var i=ELKIT.index(n);ELKIT.append(n.parentElement,r,i+1)}}},2),insertBefore:CORE.PIPE(function(e,t){var n=N.findLite(e)[0];if(n&&n.parentElement){var r=N.findLite(t);if(r.length){var i=ELKIT.index(n);ELKIT.append(n.parentElement,r,i-1)}}},2),after:CORE.PIPE(function(e,t){return e=N.findLite(e)[0],N.isElement(e)?arguments.length<2?N.findMember(e,1):(ELKIT.insertAfter(e,t),e):e},1),before:CORE.PIPE(function(e,t){var n=N.findLite(e)[0];return N.isElement(n)?arguments.length<2?N.findMember(n,-1):(ELKIT.insertBefore(n,t),n):e},1),change:CORE.PIPE(function(e,t){if(e=N.findLite(e)[0],t=N.findLite(t)[0],e&&t){var n=e.parentNode,r=t.parentNode;if(n||r){if(n){var i=N.make("div");ELKIT.insertBefore(e,i)}if(r){var o=N.make("div");ELKIT.insertBefore(t,o)}i&&(ELKIT.insertBefore(i,t),ELKIT.remove(i)),o&&(ELKIT.insertBefore(o,e),ELKIT.remove(o))}else console.warn("node::can't change node",e,n,t,r)}else console.warn("not found",e,t);return[e,t]},1),replace:function(e,t){var n=N.findLite(t)[0];return N.node.after(e,n),N.node.remove(e),n},up:function(e){if(!N.isElement(e))return e;var t=e.parentNode;if(!N.isElement(t))return e;var n=e.previousSibling;return N.isElement(n)?void N.node.before(n,e):e},down:function(e){if(!N.isElement(e))return e;var t=e.parentNode;if(!N.isElement(t))return e;var n=e.nextSibling;return N.isElement(n)?void N.node.after(n,e):e},style:function(e,t,n){if(!(arguments.length<3))return N.each(N.findLite(e),function(e){N.NODEKIT.style(e,t,n)});var r=N.findLite(e)[0];return r?N.NODEKIT.style(r,t):void 0},empty:function(e){return N.find(e,N.map,function(e){return"innerHTML"in e&&(e.innerHTML=""),e})},remove:function(e,t){var n=N.findLite(e)[0];return N.isElement(n)&&N.isElement(n.parentNode)?(n.parentNode.removeChild(n),n):n},CARET:function(e,t){var n,r,i,o=N.findLite(e)[0],a="true"===o.contentEditable;if(arguments.length<2){if(window.getSelection){if(a){o.focus();var n=window.getSelection().getRangeAt(0),r=n.cloneRange();return r.selectNodeContents(o),r.setEnd(n.endContainer,n.endOffset),r.toString().length}return o.selectionStart}if(document.selection){if(o.focus(),a){var n=document.selection.createRange(),r=document.body.createTextRange();return r.moveToElementText(o),r.setEndPoint("EndToEnd",n),r.text.length}var t=0,i=o.createTextRange(),r=document.selection.createRange().duplicate(),s=r.getBookmark();for(i.moveToBookmark(s);0!==i.moveStart("character",-1);)t++;return t}return 0}if(-1==t&&(t=this[a?"text":"val"]().length),window.getSelection)a?(o.focus(),window.getSelection().collapse(o.firstChild,t)):o.setSelectionRange(t,t);else if(document.body.createTextRange){var i=document.body.createTextRange();i.moveToElementText(o),i.moveStart("character",t),i.collapse(!0),i.select()}return a||o.focus(),t},trigger:function(e,t,n){if(N.isWindow(e))e=W;else if(e=N.findLite(e)[0],N.isNothing(e))throw new Error("N.node.trigger\ub294 element\ub97c \ucc3e\uc744\uc218 \uc5c6\uc2b5\ub2c8\ub2e4. => \ub4e4\uc5b4\uc628\uac12"+N.tos(e));var r;return"createEvent"in document?(r=window.document.createEvent("HTMLEvents"),r.initEvent(t,!0,!0)):r={},n&&N.propEach(n,function(e,t){r[t]=e}),e.dispatchEvent(r),e},onTarget:function(e){return N.isWindow(e)||N.isDocument(e)?e:N.findLite(e)},on:function(e,t,n,r){var i=N.node.onTarget(e),o=t.split(" ");if("string"==typeof arguments[1]&&"function"==typeof arguments[2])N.each(i,function(e){N.each(o,function(t){e.addEventListener(t,n,1==r?!0:!1)})});else if("string"==typeof arguments[1]&&"string"==typeof arguments[2]&&"function"==typeof arguments[3]){var a=arguments[2],n=arguments[3],r=arguments[4];N.each(i,function(e){N.each(o,function(t){e.addEventListener(t,function(t){var r=N.find(a,e);N.each(r,function(e){return N.inside(e,t.target)?(t.delegateTarget=e,n.call(e,t),!1):void 0})},1==r?!0:!1)})})}else("string"!=typeof t||"function"!=typeof n)&&(console.error("N.node.on \ub178\ub4dc , \uc774\ubca4\ud2b8\uc774\ub984, \uc774\ubca4\ud2b8\ud5e8\ub4e4\ub7ec \uc21c\uc73c\ub85c \ud30c\ub77c\uba54\ud130\ub97c \uc785\ub825\ud558\uc138\uc694"),console.error("N.node.on ::",arguments));return i},live:function(e,t,n){return N.map(N.findLite(e),function(e){if(e&&t&&n){var r=N.dummy(function(){this.life()},{life:function(){t.call(e,this)},die:function(){n.call(e,this)},resolve:function(){return N.node.isLive(e)?!0:(this.die(),!1)}});return r}},N.clear)},punch:function(e,t){var n=N.node.onTarget(e);return N.node.on.apply(N.node,[n].concat(Array.prototype.slice.call(arguments,1))),"ontouchend"in document?void((N.isDocument(n)||n.length)&&N.each(t.split(" "),function(e){var t="mousedown"===e?["touchstart"]:"mouseup"===e?["touchend","touchcancle"]:"mousemove"===e?["touchmove"]:"mouseout"===e?["touchleave"]:null;t&&N.each(n,function(n){N.each(t,function(t){n.addEventListener(t,function(t){var r=document.createEvent("MouseEvents"),i=t.changedTouches[0];r.initMouseEvent(e,!0,!0,null,null,i.screenX,i.screenY,i.clientX,i.clientY),r.touches=t.touches,n.dispatchEvent(r)})})})})):n},off:function(e,t,n,r){if("string"!=typeof t||"function"!=typeof n)return console.error("N.node.on \ub178\ub4dc , \uc774\ubca4\ud2b8\uc774\ub984, \uc774\ubca4\ud2b8\ud5e8\ub4e4\ub7ec \uc21c\uc73c\ub85c \ud30c\ub77c\uba54\ud130\ub97c \uc785\ub825\ud558\uc138\uc694",e,t,n);var i=N.node.onTarget(e),o=t.split(" ");return N.each(i,function(e){N.each(o,function(t){e.removeEventListener(t,n,1==r?!0:!1)})}),i},data:function(e,t,n){var r=N.findLite(e);return 0==r.length?void 0:1==arguments.length?N.clone(N.first(r).dataset):2==arguments.length?N.first(r).dataset[nd.camelCase(t)]:3==arguments.length?(t=nd.camelCase(t),N.each(r,function(e){e.dataset[t]=n}),r):void 0},disabled:function(e,t){var n=new N.Array(N.findLite(e));n.isNone()?console.error("N.node.disabled:: node\ub97c \ucc3e\uc744\uc218 \uc5c6\uc2b5\ub2c8\ub2e4. => \ub4e4\uc5b4\uc628\uac12"+N.tos(e)):n.each(function(e){if("disabled"in e){if("undefined"==typeof t)return e.disabled;if(1==t||"true"==t)return e.disabled=!0,e;if(0==t||"false"==t)return e.disabled=!1,e}})},readOnly:function(e,t){var n=new N.Array(N.findLite(e));n.isNone()?console.error("N.node.readOnly:: node\ub97c \ucc3e\uc744\uc218 \uc5c6\uc2b5\ub2c8\ub2e4. => \ub4e4\uc5b4\uc628\uac12"+N.tos(e)):n.each(function(e){if("readOnly"in e){if("undefined"==typeof t)return e.readOnly;if(1==t||"true"==t)return e.readOnly=!0,e;if(0==t||"false"==t)return e.readOnly=!1,e}})},CommonString:new N.StringSource,addAttr:function(e,t,n){var r=N.findLite(e);if("attrName"!=typeof n&&"string"!=typeof n)return r;for(var i=0,o=r.length;o>i;i++)r[i].setAttribute(t,ELKIT.CommonString.set(r[i].getAttribute(t)).addToken(n));return r},hasAttr:function(e,t,n){var r=N.findLite(e);if(2===arguments.length){for(var i=0,o=r.length;o>i;i++)if(r[i].getAttribute(t))return!0;return!1}if("string"!=typeof n)return!1;for(var i=0,o=r.length;o>i;i++)if(!ELKIT.CommonString.set(r[i].getAttribute(t)).hasToken(n))return!1;return!0},removeAttr:function(e,t,n){var r=N.findLite(e);if("string"!=typeof t&&"string"!=typeof removeClass)return r;for(var i=0,o=r.length;o>i;i++){var a=ELKIT.CommonString.set(r[i].getAttribute(t)).setRemoveToken(n).trim();a.length?r[i].setAttribute(t,a):r[i].removeAttribute(t)}return r},addClass:function(e,t){return ELKIT.addAttr(e,"class",t)},hasClass:function(e,t){return ELKIT.hasAttr(e,"class",t)},removeClass:function(e,t){return ELKIT.removeAttr(e,"class",t)},html:function(e,t){var n=N.findLite(e)[0];return n?"string"==typeof t||"number"==typeof t?n.innerHTML=t:n.innerHTML:void 0},appendHTML:function(e,t,n){var r=N.findLite(e)[0];return r&&N.node.append(r,N.parseHTML(t),n)},prependHTML:function(e,t){var n=N.findLite(e)[0];return n&&N.node.prepend(n,N.parseHTML(t))},put:function(e){var t=N.findLite(e)[0];if(!N.isElement(t))return console.warn("N.node.put:: node\ub97c \ucc3e\uc744\uc218 \uc5c6\uc2b5\ub2c8\ub2e4. => \ub4e4\uc5b4\uc628\uac12",arguments);N.node.empty(t);var n=[],r=Array.prototype.slice.call(arguments);return r.shift(),N.each(N.argumentsFlatten(r),function(e){if(N.isElement(e))n.push(e);else if(/^</.test(e)&&/>$/.test(e))n.push(N.parseHTML(e));else switch(e=N.toString(e),t.tagName){case"UL":case"MENU":n.push(N.make("li",e));break;case"DL":n.push(N.make("dd",e));break;default:n.push(N.make("span",e))}}),N.node.append(t,n),t},toggleClass:function(e,t,n){var r=N.findLite(e);return"string"!=typeof t?r:void 0===n?N.each(r,function(e){N.node.hasClass(e,t)?N.node.removeClass(e,t):N.node.addClass(e,t)}):(N.isArray(n)&&(n=n.join(" ")),"string"==typeof n&&(N.node.removeClass(e,n),N.node.addClass(e,t)),n?N.node.addClass(e,t):N.node.removeClass(e,t))},coords:function(e,t,n,r,i,o){var a=N.findLite(e,0);if(a&&"string"==typeof t){o="number"==typeof o?o:1;var s=[];switch(t.replace(/(-|)\d+/g,function(e){s.push(e)}),N.each(s,function(e,t){var n;switch(t){case 0:n="left";break;case 1:n="top";break;case 2:n="width";break;case 3:n="height";break;default:return!1}var s=CORE.NUMBER.NUMBER(e)*o;switch(t){case 0:s+=CORE.NUMBER.NUMBER(r);break;case 1:s+=CORE.NUMBER.NUMBER(i)}N.node.style(a,n,s+"px")}),n){case!0:case"absolute":N.node.style(a,"position","absolute");break;case"relative":N.node.style(a,"position","relative")}}return e}};N.EXTEND_MODULE("Array","NodeHandler",{find:function(e){return new N.NodeHandler(N.find.apply(void 0,[e,this].concat(Array.prototype.slice.call(arguments,1))))},parent:function(e){return new N.NodeHandler(N.findParent.apply(void 0,[this].concat(Array.prototype.slice.call(arguments))))},parents:function(e){return new N.NodeHandler(N.findParents.apply(void 0,[this].concat(Array.prototype.slice.call(arguments))))},children:function(e){return new N.NodeHandler(N.findOn(this,e))},hasFocus:function(){return ELKIT.hasFocus(this)},caretPossible:function(){return ELKIT.caretPossible(this)},attr:function(e){return arguments.length>1?(N.FLATTENCALL(ELKIT.attr,void 0,this,arguments),this):0==arguments.length?N.CALL(ELKIT.attr,void 0,this):N.CALL(ELKIT.attr,void 0,this,e)},addAttr:function(){return N.FLATTENCALL(ELKIT.addAttr,ELKIT,this,arguments),this},removeAttr:function(){N.FLATTENCALL(ELKIT.removeAttr,ELKIT,this,arguments)},hasAttr:function(){N.FLATTENCALL(ELKIT.hasAttr,ELKIT,this,arguments)},addClass:function(e){return N.CALL(ELKIT.addClass,ELKIT,this,e),this},hasClass:function(e){return N.CALL(ELKIT.hasClass,ELKIT,this,e),this},removeClass:function(e){return N.CALL(ELKIT.removeClass,ELKIT,this,e),this},toggleClass:function(e,t){return N.CALL(ELKIT.toggleClass,ELKIT,this,e,t),this},is:function(e){return ELKIT.is(this,e)},filter:function(e){return"function"==typeof e?this.setSource(this._super(e)):this.setSource(N.FLATTENCALL(ELKIT.filter,ELKIT,this,arguments)),this},content:function(){return N.FLATTENCALL(ELKIT.content,ELKIT,this,arguments)},text:function(){return N.FLATTENCALL(ELKIT.text,ELKIT,this,arguments)},expval:function(e){arguments.length>0&&N.CALL(ELKIT.value,ELKIT,this,N.exp.apply(void 0,Array.prototype.slice.call(arguments)))},value:function(e){return arguments.length>0?(N.CALL(ELKIT.value,ELKIT,this,e),this):N.FLATTENCALL(ELKIT.value,ELKIT,this,arguments)},prop:function(e,t){return arguments.length>0?(this.each(function(){this[e]=t}),this):this[0]?this[0][e]:void 0},trace:function(){return N.FLATTENCALL(ELKIT.trace,ELKIT,this,arguments)},index:function(){return ELKIT.index(this)},append:function(e){return ELKIT.append(this,e),this},prepend:function(e){return ELKIT.prepend(this,e),this},appendTo:function(e){return N.CALL(ELKIT.appendTo,ELKIT,this,e),this},prependTo:function(e){return N.CALL(ELKIT.prependTo,ELKIT,this,e),this},put:function(){return N.FLATTENCALL(ELKIT.put,ELKIT,this,arguments),this},putTo:function(e){return N.CALL(ELKIT.put,ELKIT,e,this),this},before:function(){return arguments.length>0?(N.FLATTENCALL(ELKIT.before,ELKIT,this,arguments),this):N.CALL(ELKIT.before,ELKIT,this)},after:function(){return arguments.length>0?(N.FLATTENCALL(ELKIT.after,ELKIT,this,arguments),this):N.CALL(ELKIT.after,ELKIT,this)},change:function(){var e=N.FLATTENCALL(ELKIT.change,ELKIT,this,arguments);return this.setSource(e[1]),this},beforeAll:function(){return N.CALL(ELKIT.beforeAll,ELKIT,this)},afterAll:function(){return N.CALL(ELKIT.afterAll,ELKIT,this)},replace:function(){return N.FLATTENCALL(ELKIT.replace,ELKIT,this,arguments),this},up:function(){return N.CALL(ELKIT.up,ELKIT,this)},down:function(){return N.CALL(ELKIT.donw,ELKIT,this)},style:function(){return ELKIT.style.apply(ELKIT,[this].concat(Array.prototype.slice.call(arguments)))},require:function(){return new N.NodeHandler(ELKIT.require.apply(ELKIT,[this].concat(Array.prototype.slice.call(arguments))))},empty:function(){return N.CALL(ELKIT.empty,ELKIT,this),this},remove:function(){return N.CALL(ELKIT.remove,ELKIT,this),this},caret:function(){N.FLATTENCALL(ELKIT.caret,ELKIT,this,arguments)},trigger:function(e){return N.CALL(ELKIT.trigger,ELKIT,this,e),this},on:function(e,t,n,r){return ELKIT.on.call(ELKIT,this,e,t,n,r),this},off:function(e,t,n,r){return ELKIT.off.call(ELKIT,this,e,t,n,r),this},data:function(e){return arguments.length>1?(N.FLATTENCALL(ELKIT.data,ELKIT,this,arguments),this):0==arguments.length?N.CALL(ELKIT.data,ELKIT,this):N.CALL(ELKIT.data,ELKIT,this,e)},html:function(e){var t=N.FLATTENCALL(ELKIT.html,ELKIT,this,arguments);return arguments.length?this:t},appendHTML:function(e){return N.FLATTENCALL(ELKIT.appendHTML,ELKIT,this,arguments),this},prependHTML:function(){return N.FLATTENCALL(ELKIT.prependHTML,ELKIT,this,arguments),this},focus:function(){return this.each(function(e){return"function"==typeof e.focus?e.focus():void 0}),this},unique:function(){return N.FLATTENCALL(ELKIT.unique,ELKIT,this,arguments),this},uniqueID:function(){return N.FLATTENCALL(ELKIT.uniqueID,ELKIT,this,arguments)},width:function(){return this[0]?this[0].offsetWidth:-1},height:function(){return this[0]?this[0].offsetHeight:-1},disabled:function(){return N.FLATTENCALL(ELKIT.disabled,ELKIT,this,arguments),this},readonly:function(){return N.FLATTENCALL(ELKIT.readOnly,ELKIT,this,arguments),this}},function(e,t,n){this.setSource(N.find(e,t,n))}),window.ndn=N.METHOD("node",nd.NodeHandler["new"]);for(var key in ELKIT)N.node[key]=ELKIT[key];N.MODULE("Binder",{shouldSendValueToListenersInfo:function(e,t,n){var r=this.beforeProperty.prop(n);this.protectProperty.add(n),new N.Array(e).each(function(e){e.proc.call(e.listener,t,r,e.mutableKey)}),this.beforeProperty.setProp(n,t),this.protectProperty.remove(n)},getListenInfo:function(e,t){if(!e)return this.Source.get();var t="string"==typeof t?t:this.defaultKey;return this.Source.filter(function(n){return n.listener===e&&n.propertyName===t})},send:function(e,t,n,r,i){if(this.protectProperty.has(t))return this.trace&&console.info(e,"was make duplicate send (",t,") is still processing => ",n),!1;var o=this.beforeProperty.prop(t);if(i!==!0&&n===o)return this.trace&&console.info(e,"send is same from before value."),!1;var a=this.Source.map(function(n){if(e!==n.listener)if(n.prefixListen===!0){var r=n.propertyName.length;if(t.substr(0,r)===n.propertyName)return n.mutableKey=t.substr(r),n}else if(t===n.propertyName)return n.mutableKey=t,n}).remove(void 0),s=!0,r="number"==typeof r?r:0,u=this;a.each(function(i){return i.allowProc&&i.allowProc(n,o)===!1&&i.protectLevel>=r?(u.shouldSendValueToListenersInfo(u.getListenInfo(e,t),o,t),s=!1):void 0}),s===!0&&this.shouldSendValueToListenersInfo(a,n,t)},post:function(e,t,n,r){this.send(e,t,n,r,!0)},listen:function(e,t,n,r,i,o){if("object"!=typeof e&&"function"!=typeof e||"string"!=typeof t||"function"!=typeof n)return console.error("BindAdapter::listen arguments must be (listener,propertyName,proc)(object,string,fucntion)=>",arguments);if(this.Source.isAny(function(n){return n.listener===e&&n.propertyName===t}))return console.error("BindAdapter:: already set listener & property");var a={listener:e,propertyName:t,proc:n,allowProc:r,protectLevel:"number"==typeof i?i:0,prefixListen:!!o,mutableKey:t};this.Source.push(a),this.beforeProperty.has(t)&&this.shouldSendValueToListenersInfo(a,this.beforeProperty.prop(t),t)},prefixListen:function(e,t,n,r,i){return"object"!=typeof e||"string"!=typeof t||"function"!=typeof n?console.error("BindAdapter::listen arguments must be (listener,propertyName,proc)(object,string,fucntion)=>",arguments):void this.listen(e,t,n,r,i,!0)},selfSend:function(e,t,n){return this.send(this,propertyName,proc,allowProc,protectLevel)},selfListen:function(e,t,n,r){return this.listen(this,e,t,n,r)},prop:function(){return this.beforeProperty.prop.apply(this.beforeProperty,Array.prototype.slice.call(arguments))},setProp:function(){return this.beforeProperty.setProp.apply(this.beforeProperty,Array.prototype.slice.call(arguments))},inspect:function(e,t,n){var t="string"==typeof t?t:this.defaultKey;return"function"!=typeof e?console.error("BindAdapter::inspect arguments must be (inspectProc,propertyName)(string,fucntion)"):void this.listen(this,t,function(){},e,n)},bindNode:function(e,t,n){var r=N.find(e,0);if(r){var t="string"==typeof t?t:this.defaultKey;switch(r.tagName.toLowerCase()){case"input":case"select":var i=this;N.node.on(r,"keyup",function(e){i.send(r,t,N.node.value(r))})}this.listen(r,t,function(e){if("function"==typeof n&&(e=n(e),"object"==typeof e&&"input"!==r.tagName)){var t=N.find(e);if(t.length)return N.node.put(r,t)}N.node.value(r,e)})}},getListener:function(){return this.Source.map(function(e){return e.listener}).setUnique()},getListenerByKey:function(e){return this.Source.filter(function(t){return t.propertyName===e}).setUnique()},getProperties:function(){return this.Source.map(function(e){return e.propertyName}).setUnique()},removeListener:function(e){this.Source.setFilter(function(t){return t.listener===e?!1:!0})},removeListenerWithNode:function(e){var t=this;t.Source.setFilter(function(t){var n=!0;return N.find(e,N.each,function(e){N.find("*",e,N.each,function(e){return t.listener===e?(n=!1,!1):void 0})}),n})},removeListen:function(e,t){this.Source.setFilter(function(n){return n.listener===e&&n.propertyName===t?!1:!0})},removeProperty:function(e){this.Source.setFilter(function(t){return t.propertyName===e?!1:!0})}},function(e,t,n){if(this.trace=n,this.Source=new N.Array,this.defaultKey="string"==typeof t?t:"default",this.protectProperty=new N.Array,!N.isNil(e)&&"object"!=typeof e){var r={};r[this.defaultKey]=e,e=r}this.beforeProperty=new N.HashSource(e)}),N.MODULE("Request",{relativeSend:function(t,n,r,i){var o=this,a=new function(){this.url=o.defaultURL+t,this.method=i&&o.option.prop("method")||"GET","string"==typeof this.method?this.method=this.method.toUpperCase():(console.warn("Requst::send => method is must be string",this.method),this.method="GET");var e=new N.HashSource(o.option.prop("parameter")).extend(n);this.parameter=e.get(),this.parameterString=e.join("=","&"),this.callback="function"==typeof r?r:o.option.prop("callback"),this.asynchronous="boolean"==typeof o.option.prop("asynchronous")?o.option.prop("asynchronous"):!0,o.option.each(function(e,t){switch(t){case"url":case"parameter":case"parameterString":case"method":case"callback":case"asynchronous":break;default:this[t]=e}}),this.onreadystatechange=function(){this.callback.apply(this,Array.prototype.slice.call(arguments))}};if(!("callback"in a))return console.error("Request :: callback is undefined. this must exsist");var s=window.XMLHttpRequest?new XMLHttpRequest:window.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):function(){console.error("XMLHTTPRequest\ub97c \uc9c0\uc6d0\ud558\uc9c0 \uc54a\ub294 \ube0c\ub77c\uc6b0\uc838\uc785\ub2c8\ub2e4")}();return s?(s.onreadystatechange=function(){switch(s.readyState){case 1:a.debug&&console.info("Request::("+a.url+")server connection established");break;case 2:a.debug&&console.info("Request::("+a.url+")request recived");break;case 3:a.debug&&console.info("Request::("+a.url+")processing request");break;case 4:if(s.status<400){if("true"===a.debug){var e={method:a.method,url:a.url,param:a.parameter};return console.info("Request::Success:: [\n - method => ",e.method,"\n - url    => ",e.url,"\n - param  => ",N.tos(e.param),"\n]\n:::result==> ",N.max(N.tos(e.data),e.dataTraceMax),"\n\n"),e}}else console.error("Request::load : '"+a.url+"' \ud638\ucd9c\uc774 \uc2e4\ud328\ub418\uc5c8\uc2b5\ub2c8\ub2e4. JSON \ud30c\ub77c\uba54\ud130\uc640 \uc5d0\ub7ec\ucf54\ub4dc\ub97c \ucd9c\ub825\ud569\ub2c8\ub2e4. ==> \n------\n",N.tos(a),"\n------\n",s.textError),s.status<500?console.warn("Request::send::error => ["+s.status+"] page not found",a.url):s.status<600?console.warn("Request::send::error => ["+s.status+"] internal server error",a.url):console.warn("Request::send::error => ["+s.status+"] error",a.url);a.onreadystatechange(s.responseText,/^(2\d\d|3\d\d|0)$/.test(s.status),s.status,a,s)}},CORE.TRY_CATCH(function(){switch(a.method){case"GET":var t=a.parameterString.length?a.parameterString:"?"+a.parameterString;s.open("GET",a.url+t,"boolean"==typeof a.asynchronous?a.asynchronous:!0),s.send();break;case"POST":default:if(!this.sender.method.length)return console.error("Requst::send => method name is worng",a.method);s.open("POST",this.url,"boolean"==typeof a.asynchronous?a.asynchronous:!0),CORE.TRY_CATCH(function(){s.setRequestHeader("X-Requested-With","XMLHttpRequest"),s.setRequestHeader("Content-type","application/x-www-form-urlencoded")},function(){throw console.warn("XMLHttpRequest:: setRequestHeader\ub97c \uc9c0\uc6d0\ud558\uc9c0 \uc54a\ub294 \ube0c\ub77c\uc6b0\uc838\uc785\ub2c8\ub2e4"),e}),s.send(requestString)}},function(e){throw e.message.indexOf("denied")>0?new Error("Cross Domain Error (if current browser is IE)"):e},this),a):void 0},send:function(e,t,n){return"string"!=typeof this.defaultURL?console.error("Requst::send => not exesist request url"):this.relativeSend("",e,t)}},function(e,t){this.defaultURL=e,this.option=new N.HashSource("boolean"==typeof t?{asynchronous:t}:t)}),N.METHOD("load",function(e){var t;return new nd.Request("",{asynchronous:!1}).relativeSend(e,null,function(e,n,r){t=n?e:""}),t}),N.METHOD("loadNodes",function(e,t){var n=document.createElement("div");return n.innerHTML=N.load(e),t===!0?N.toArray(n.children):N.filter(n.children,function(e){return!/^(script|link|title|meta)$/i.test(e.tagName)})}),N.METHOD("open",function(e,t){"function"==typeof t&&(t={success:t});var t=N.HashSource({callback:function(e,n,r,i){if(400>n){var o;switch(r.contentType){case"json":case"object":CORE.TRY_CATCH(function(){o=JSON.parse(e)},function(t){throw console.error("open::wrong json format. =>",e,i),t});break;case"dom":case"node":o=N.parseHTML(e);break;case"http":case"html":case"js":case"javascript":case"css":case"stylesheets":default:o=e}if("function"!=typeof r.success)return console.error("open:: must 'success' exsist as function =>",t);r.success(o,r,i),"function"==typeof r["final"]&&r["final"](a,r,i)}else{var a;r.error&&(a=requestObject.statusText,r.error(requestObject.statusText,r,i)),"function"==typeof r["final"]&&r["final"](a,r,i)}}}).marge(t);return new N.Request(e,t).send()}),N.MODULE("Timeline",{updateFix:function(){var e=this.Status.values("timeStart","timeEnd");e[0]>this._tick&&(this._tick=e[0]),e[1]<this._tick&&(this._tick=e[1])},append:function(){var e=this;N.dataFlatten(arguments,N.each,function(t,n){if(N.isModule(t,"TimeProperties")){e.Source.add(t);var r=t.timeStart(),i=t.timeEnd();if(1===e.Source.length)e.Status.pushKeyValue("timeStart",r,"timeEnd",i);else if(e.Source.length>1){var o=e.Status.values("timeStart","timeEnd");o[0]>r&&e.Status.pushKeyValue("timeStart",r),o[1]<i&&e.Status.pushKeyValue("timeEnd",i)}e.updateFix()}})},stop:function(){return this._rate=0,this._spot=null,this._wheel&&(this._wheel=clearInterval(this._wheel)),this},move:function(e,t){var n;if(this._rightDirection){var r=this.Status.get("timeEnd");e>r&&(this._tick=r,n=!0)}else{var i=this.Status.get("timeStart");i>e&&(this._tick=i,n=!0)}n===!0?(this.stop(),this.EventListener.trigger("timeMove"),this.EventListener.trigger("timeFinish")):(this._tick=e,this.EventListener.trigger("timeMove"),N.CALL(this._onTimeMove,this._tick))},offset:function(e){this.move(this._tick+e)},offsetExp:function(e){this.move(this._tick+N.timeScale(e))},rate:function(e,t){if((t===!0||"toggle"===t)&&0!==this._rate)return this.stop();if("number"!=typeof e)return console.error("Timeline::rate is must be number");if(this._wheel&&clearInterval(this._wheel),0!==e){var n=this;this._rate=e,this._spot=+new Date,this._rightDirection=e>0;var r=function(){if(0===n._rate)return n.stop();var e=+new Date,t=e-n._spot,r=n._tick+t*n._rate;n.move(r,!0),n._spot=e};this._wheel=setInterval(r,this._interval),r()}},rateByTimescale:function(e,t){return this.rate(N.timeScale(e)/1e3,t)},timestamp:function(){return this._tick},timescale:function(){return this.Status.values("timeEnd","timeStart",function(e,t){return e-t})},getTimeStart:function(){return this.Status.get("timeStart")},getTimeEnd:function(){return this.Status.get("timeEnd")},runTimescale:function(){return this._rightDirection?this._tick-this.Status.get("timeStart"):this.Status.get("timeEnd")-this._tick},restTimescale:function(){return this._rightDirection?this.Status.get("timeEnd")-this._tick:this._tick-this.Status.get("timeStart")},getCurrentData:function(){var e=this._tick;return this.Source.map(function(t){return t.getPropWithTime(e)})},getCurrentVectorData:function(){var e=this._tick;return this.Source.map(function(t){return t.getVectorPropWithTime(e)})},getTimeProperties:function(e){return arguments.length?this.Source[e]:this.Source.clone()},getCurrentAttribute:function(e){return arguments.length?this.Source[e]&&this.Source[e].Attribute:this.Source.map(function(e){return e.Attribute})},progress:function(){return 100-100/this.timescale()*this.restTimescale()},restProgress:function(){return 100/this.timescale()*this.restTimescale()},setFPS:function(e){this._fps="number"==typeof e?e:30,this._interval=N.parseInt(1e3/this._fps)},clear:function(){this.Source=new N.Array,this.Status=new N.HashSource({timeStart:0,timeEnd:0}),this._tick=0,this._rate=0,this._wheel=null,this._rightDirection=!0}},function(e){this.clear(),"number"==typeof e&&this.setFPS(e),this.EventListener=new N.EventListener(this),this.EventListener.addEventRegister(["timeMove","timeFinish"])}),N.MODULE("TimeProperties",{insertTimeProperty:function(e,t){if("number"!=typeof e||"object"!=typeof t)return console.error("addTimeProperty:: must be argument type (number, object)");var n=0;this.Source.length;return this.Source.reverseEach(function(t,r){return e>t.time?(n=r+1,!1):void 0}),this.Source.insert({time:e,props:t},n),this},push:function(){var e=this;return N.dataFlatten(arguments,N.each,function(t){if("object"!=typeof t){var n={};n[e.defaultKey]=t,t=n}var r=e.defaultStartTime+e.defaultInertval*e.Source.length;e.insertTimeProperty(r,t)}),this},getAroundPropWithTime:function(e){if("number"!=typeof e&&console.error("getAroundPropWithTime:: arg must be number"),!this.Source.length)return{};if(1===this.Source.length||this.Source.first().time>e)return[this.Source[0].props,void 0,0];if(this.Source.last().time<e)return[this.Source.last().props,void 0,0];var t,n;if(this.Source.each(function(t,r){return t.time>e?(n=r-1,!1):void 0}),t=this.Source[n],!t){t=this.Source.last(),n=this.Source.length-1;var r=this.Source[n-1];return[r.props,t.props,1/(t.time-r.time)*(e-r.time)]}var i=this.Source[n+1];return[t.props,i.props,1/(i.time-t.time)*(e-t.time)]},getPropWithTime:function(e){var t=this.getAroundPropWithTime(e);return"undefined"==typeof t[1]?t[0]:t[2]<.5?t[0]:t[1]},getVectorPropWithTime:function(e){var t=this.getAroundPropWithTime(e);if("undefined"==typeof t[1])return this._gto,t[0];var n=new N.HashSource;return n.arrangementObjectsDataProp(t[0],t[1]),n.setMap(function(e){var n="number"==typeof e[0],r="number"==typeof e[1];return n&&r?e[0]+(e[1]-e[0])*t[2]:n?e[0]:r?e[1]:e[0]&&e[1]}).get()},timeStart:function(){var e=this.Source.first();return e?e.time:null},timeEnd:function(){var e=this.Source.last();return e?e.time:null;
},timeLength:function(){return this.Source.isNone()?null:this.Source.isOne()?0:this.timeStart()-this.timeEnd()},getPropWithIndex:function(e){var t=this.get(e);return t?t.prop:void 0},getTimeWithIndex:function(e){var t=this.get(e);return t?t.time:void 0}},function(e,t,n,r){this.Source=new N.Array,this.Attribute=new N.HashSource(e).get(),this.defaultKey="string"==typeof r?r:"value",this.defaultStartTime=n?N.timeStamp(n):N.timeStamp(),this.defaultInertval=t?N.timeScale(t):N.timeScale("2s")},function(e){return this.Source[e]}),N.METHOD("workerOfLinearVector",function(e,t,n){n="number"==typeof n?n:1;var r=N.parseInt(e),i=N.parseInt(t);return r===i?function(){return r}:function(e){return r+(i-r)/n*e}}),N.METHOD("workerOfCubicBezier",function(e,t,n,r,i){i="number"==typeof i?i:1;var o=function(t){var r=1-t;return 3*r*r*t*e+3*r*t*t*n+t*t*t},a=function(e){var n=1-e;return 3*n*n*e*t+3*n*e*e*r+e*e*e},s=function(t){var r=1-t;return 3*(2*(t-1)*t+r*r)*e+3*(-t*t*t+2*r*t)*n};return function(e){var t,n,r,u,c,l,f=e;for(r=f,l=0;8>l;l++){if(u=o(r)-f,Math.abs(u)<i)return a(r);if(c=s(r),Math.abs(c)<1e-6)break;r-=u/c}if(t=0,n=1,r=f,t>r)return a(t);if(r>n)return a(n);for(;n>t;){if(u=o(r),Math.abs(u-f)<i)return a(r);f>u?t=r:n=r,r=.5*(n-t)+t}return a(r)}}),N.MODULE("Counter",{timeoutHandler:function(){this._timeout&&clearTimeout(this._timeout);var e=+new Date;if(this._moveEnd>e){this._countProcesser?N.CALL(this._whenCounting,this,this._countProcesser(1-(this._moveEnd-e)/this.duration)):N.CALL(this._whenCounting,this,1-(this._moveEnd-e)/this.duration);var t=this;this._timeout=setTimeout(function(){t.timeoutHandler.call(t)},this.rate)}else this.moveStart=null,this.moveEnd=null,N.CALL(this._whenCounting,this,1),N.CALL(this._whenCountFinish,this,1)},whenCountStart:function(e){this._whenCountStart=e},whenCount:function(e){this._whenCounting=e},whenCountFinish:function(e){this._whenCountFinish=e},setCountProcessor:function(e){"function"==typeof e&&(this._countProcesser=e)},setRate:function(e){this.rate="number"==typeof e?e:20},start:function(e,t,n){this.duration="number"==typeof e?e:300,t&&this.whenCount(t),n&&this.whenCountFinish(n);this._moveStart=+new Date,this._moveEnd=this._moveStart+this.duration,this.timeoutHandler()}},function(e,t,n,r,i){this.setRate(r),(n===!0||e===!0||r===!0||i===!0)&&this.start(e,t,n)}),N.MODULE("EventListener",{dispatchEvent:function(e,t){var n=Array.prototype.slice.call(arguments,2),r=this.ManageModuleAroundEvents.prop(t),i=this.ManageModuleEvents.dataProp(t).map(function(t){return t.apply(e,n)});if(r){var o=r.prop("after");o&&o.each(function(t){return t.apply(e,n)})}return i},dispatchWill:function(e,t){var n=Array.prototype.slice.call(arguments,2),r=this.ManageModuleAroundEvents.prop(t);if(r){var i=r.prop("before");if(i&&i.isAny(function(t){return 0==t.apply(e,n)}))return!1}},triggerWithOwner:function(e,t){var n=Array.prototype.slice.call(arguments);return this.dispatchWill.apply(this,n)===!1?!1:this.dispatchEvent.apply(this,n)},trigger:function(e){this.triggerWithOwner.apply(this,[this.ManageModule,e].concat(Array.prototype.slice.call(arguments,1)))},listenBefore:function(e,t){this.ManageModuleAroundEvents.has(e)||this.ManageModuleAroundEvents.setProp(e,new N.HashSource),this.ManageModuleAroundEvents.prop(e).pushDataProp("before",t)},listenAfter:function(e,t){this.ManageModuleAroundEvents.has(e)||this.ManageModuleAroundEvents.setProp(e,new N.HashSource),this.ManageModuleAroundEvents.prop(e).pushDataProp("after",t)},listen:function(e,t){return"function"!=typeof t?!1:void this.ManageModuleEvents.pushDataProp(e,t,!0)},hasListen:function(e){return 0===arguments.length&&this.ManageModuleEvents.hasProp(),this.ManageModuleEvents.hasProp(e)},hasListener:function(e){var t=!1;return this.ManageModuleEvents.each(function(e){return e.length?(t=!0,!1):void 0}),t},addTriggerRegister:function(e,t){var n=this;if("string"==typeof e){var r=e[0].toUpperCase()+e.substr(1);this.ManageModule["trigger"+r]=function(){n.triggerWithOwner.apply(n,[t?t:n.ManageModule,e].concat(Array.prototype.slice.call(arguments)))}}else N.each(e,function(e){"string"==typeof e&&n.addTriggerRegister(e,t)})},addEventRegister:function(e,t){var n=this;if("string"==typeof e){var r="on"+e;if(this.ManageModuleEvents.touchDataProp(e),t===!0){var i="will"+e,o="did"+e;this.ManageModule[i]=function(t){return"function"!=typeof t?console.error("missing method from",i,t):void n.listenBefore(e,t)},this.ManageModule[o]=function(t){return"function"!=typeof t?console.error("missing method from",o,t):void n.listenAfter(e,t)}}this.ManageModule[r]=function(t){return"function"!=typeof t?console.error("missing method from",r,t):void n.listen(e,t)}}else N.each(e,function(e){"string"==typeof e&&n.addEventRegister(e,t)})},resetEvent:function(){this.ManageModuleEvents=new N.HashSource,this.ManageModuleAroundEvents=new N.HashSource}},function(e){N.isModule(e)||console.error("EventListener:: manage object is must be nody module"),this.ManageModule=e,this.resetEvent()}),N.MODULE("Gesture",{dragAction:function(e){var t=N.dummy({resolve:e.resolve,start:e.start,move:e.move,end:e.end,cancle:function(n,r,i){e.cancle&&e.cancle(n,r,"cancle",i),t.resolveStatus=!1},gesture:this,resolveStatus:!1});return this.ondrag(function(e,n,r){if(0==t.resolveStatus&&"start"==r&&(t.resolve===!0||"undefined"==typeof t.resolve?t.resolveStatus=!0:"function"==typeof t.resolve&&(t.resolveStatus=1==t.resolve(e,n,"resolve")?!0:!1)),1==t.resolveStatus)switch(r){case"start":t.start&&0==t.start(e,n,r)&&t.cancle(e,n,r);break;case"move":t.move&&0==t.move(e,n,"move")&&t.cancle(e,n,"move");break;case"end":t.end&&0==t.end(e,n,r)&&t.cancle(e,n,r),t.resolveStatus=!1}}),this.GestureActions.push(t),t},resetEvent:function(){this.EventListener.resetEvent()},_gestureReset:function(){this._firstPageX=this._lastPageX=void 0,this._firstPageY=this._lastPageY=void 0,this._firstPinchValue=void 0,this._lastGesture=void 0,this._lastGestureEvent=void 0},stopGesture:function(){this._gestureReset()},inheritGesture:function(e){if(e instanceof N.Gesture){var t=e._lastGestureEvent;this.stopGesture(),e.stopGesture(),this._gestureStartHandler(t)}}},function(e,t){if(this.view=N.findLite(e)[0],this.layerView=N.findLite(t)[0],!this.view)return console.error("Gesture::no find gestrue view");this.GestureListener={},this.GestureActions=[],this._firstPinchValue,this._firstPageX,this._firstPageY,this._lastPageX,this._lastPageY,this._lastGesture,this._lastGestureEvent,this.stopPropagation=!0,this.preventDefault=!0;var n=this.EventListener=new N.EventListener(this);n.addEventRegister(["drag","pinch"]);var r=this,i=function(e,t,n,r){return Math.sqrt(Math.pow(e-n,2),Math.pow(t-r,2))};this._gestureStartHandler=function(e){if(n.hasListener()){var t=r._firstPageX=r._lastPageX=e.touches?e.touches[0].pageX:e.pageX,o=r._firstPageY=r._lastPageY=e.touches?e.touches[0].pageY:e.pageY;if(r._lastGesture={pageX:t,pageY:o,relativeX:0,relativeY:0,screenX:e.screenX,screenY:e.screenY,moveX:0,moveY:0,offsetX:e.offsetX,offsetY:e.offsetY},r.layerView){var a=N.NODEKIT.mousePosition(e,r.layerView);r._lastGesture.layerX=a.x,r._lastGesture.layerY=a.y}else r._lastGesture.layerX=r._lastGesture.offsetX,r._lastGesture.layerY=r._lastGesture.offsetY;r._lastGestureEvent=e,n.hasListener("pinch")&&e.touches&&2===e.touches.length&&(e.preventDefault(),r._firstPinchValue=i(t,o,e.touches[1].pageX,e.touches[1].pageY),r._lastGesture.pinch=1,n.trigger("pinch",e,r._lastGesture,"start")),n.trigger("drag",e,r._lastGesture,"start"),r.stopPropagation===!0&&e.stopPropagation(),r.preventDefault===!0&&e.preventDefault()}},this._gestureMoveHandler=function(e){if(n.hasListener()&&void 0!==r._firstPageX){var t=e.touches?e.touches[0].pageX:e.pageX,o=e.touches?e.touches[0].pageY:e.pageY;if(r._lastGesture.pageX=t,r._lastGesture.pageY=o,r._lastGesture.relativeX=t-r._firstPageX,r._lastGesture.relativeY=o-r._firstPageY,r._lastGesture.screenX=e.screenX,r._lastGesture.screenY=e.screenY,r._lastGesture.moveX=t-r._lastPageX,r._lastGesture.moveY=o-r._lastPageY,r._lastGesture.offsetX=r._lastGesture.offsetX+r._lastGesture.moveX,r._lastGesture.offsetY=r._lastGesture.offsetY+r._lastGesture.moveY,r.layerView){var a=N.NODEKIT.mousePosition(e,r.layerView);r._lastGesture.layerX=a.x,r._lastGesture.layerY=a.y}else r._lastGesture.layerX=r._lastGesture.offsetX,r._lastGesture.layerY=r._lastGesture.offsetY;if(r._lastGestureEvent=e,r._lastPageX=t,r._lastPageY=o,n.hasListener("pinch")&&"number"==typeof r._firstPinchValue&&e.touches&&2===e.touches.length){e.preventDefault();var s=i(e.touches[0].pageX,e.touches[0].pageY,e.touches[1].pageX,e.touches[1].pageY);r._lastGesture.pinch=-(r._firstPinchValue/s-1),n.trigger("pinch",e,r._lastGesture,"move")}n.trigger("drag",e,r._lastGesture,"move"),r.stopPropagation===!0&&e.stopPropagation(),r.preventDefault===!0&&e.preventDefault()}},this._gestureEndHandler=function(e){n.hasListener()&&void 0!==r._firstPageX&&(n.hasListener("pinch")&&"number"==typeof r._firstPinchValue&&e.touches&&2===e.touches.length&&this.EventListener.trigger("pinch",e,r._lastGesture,"end"),n.trigger("drag",e,r._lastGesture,"end"),r._gestureReset(),r.stopPropagation===!0&&e.stopPropagation(),r.preventDefault===!0&&e.preventDefault())},N.node.punch(this.view,"mousedown",r._gestureStartHandler),N.node.punch(document.body,"mousemove",r._gestureMoveHandler),N.node.punch(document.body,"mouseup",r._gestureEndHandler)});var RoleNodes={},GET_ROLE_TOKEN=function(){};N.MODULE("Role",function(){},function(){}),N.EXTEND_MODULE("NodeHandler","RoleScope",{},function(e,t){var n=N.find(e,0);this.$parent=n.parentNode,this.$parent&&(this.$placeholder=document.createComment("role scope token"),this.$parent.insertBefore(this.$placeholder,n),this.$sample=N.makeSampleNode(n),console.log("this.$sample",this.$sample))}),N.MODULE("Mobile",{},function(e,t){this.$rootView=nd.find(e,0),this.$rootData=t,this.$roleScope=new N.RoleScope(this.$rootView,this.$rootData),console.log("this.$roleScope",this.$roleScope),console.log("this",this)})});