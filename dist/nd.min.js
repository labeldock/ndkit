/* 
 * nd.js (https://github.com/labeldock/ndkit)
 * Copyright HOJUNG-AHN. and other contributors
 * Released under the MIT license
 */
!function(){var CORE={},N=function(){return N.API.apply(window,Array.prototype.slice.call(arguments))};!function(W,NMethods,NSingletons,NModules,nody,CORE){N.VERSION="alpha 0.0.1",N.BUILD="20",N.CORE_VERSION="3.0",N.CORE_BUILD="100",N.PLUGIN=function(t){t(N,CORE)},"object"!=typeof W.console&&(W.console={}),"log info warn error count assert dir clear profile profileEnd".replace(/\S+/g,function(t){t in W.console||(W.console[t]=function(){if("object"==typeof air&&"trace"in air){for(var t=Array.prototype.slice.call(arguments),e=[],n=0,r=t.length;r>n;n++)switch(typeof t[n]){case"string":case"number":e.push(t[n]);break;case"boolean":e.push(t[n]?"true":"false");break;default:e.push(N.toString(t[n]))}air.trace(e.join(", "))}})});var MARKO={};W.MARK=function(t){if("string"==typeof t||"number"==typeof t){if(t+="","number"==typeof MARKO[t]){var e=+new Date-MARKO[t];return console.info("MARK::"+t+" => "+e),delete MARKO[t],e}console.info("MARK START::"+t),MARKO[t]=+new Date}},String.prototype.trim||(String.prototype.trim=function(){return this.replace(/(^\s*)|(\s*$)/gi,"")}),"undefined"==typeof W.JSON&&(W.JSON={parse:function(s){var r;try{r=eval("("+s+")")}catch(e){r=N.asObject(s)}return r},stringify:function(t){return W.N.toString(obj,Number.POSITIVE_INFINITY,!0)}}),Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),n=this,r=function(){},i=function(){return n.apply(this instanceof r&&t?this:t,e.concat(Array.prototype.slice.call(arguments)))};return r.prototype=this.prototype,i.prototype=new r,i}),"function"==typeof W.success&&(W.success="success");var IS_MODULE=function(t,e){if(1==arguments.length){if("object"==typeof t&&"__NativeHistroy__"in t)return!0}else if("object"==typeof t&&null!==t&&"string"==typeof e&&"__NativeHistroy__"in t)for(var n=t.__NativeHistroy__.length-1;n>-1;n--)if(t.__NativeHistroy__[n]===e)return!0;return!1};N.API=function(t){if(0===arguments.length)return"Nody "+N.VERSION+" ("+N.BUILD+")";if("string"==typeof t){if(NModules[t]){var e=t+"("+/\(([^\)]*)\)/.exec(NModules[t].prototype.set+"")[1]+")",n=0;for(var r in NModules[t].prototype)switch(r){case"set":case"get":case"__NativeType__":case"__NativeHistroy__":case"__NativeHistroy__":case"constructor":case"__NativeClass__":case"_super":case"__NativeInitializer__":break;default:"function"==typeof NModules[t].prototype[r]&&(e+="\n "+n+" : "+r+"("+/\(([^\)]*)\)/.exec(NModules[t].prototype[r]+"")[1]+")"),n++}return e}if("function"==typeof N[t])return N[t].__NativeMethod__?"NODY_NDPIPE :: "+t+/\(([^\)]*)\)/.exec(N[t].__NativeMethod__)[0]:"NODY_METHOD :: "+t+/\(([^\)]*)\)/.exec(N[t])[0]}return t+" is not found"},N.ALL=function(){var t,e,n=[],r="# Native Getter";for(t=0,l=NMethods.length;t<l;t++)r+="\n"+t+" : "+NMethods[t];n.push(r);var i="# Native Singleton";t=0;for(e in NSingletons){i+="\n"+t+" : "+e;var o,u=0;switch(e){case"ADVKIT":case"ELUT":case"NODY":case"FINDKIT":case"NODEKIT":case"ELKIT":var s=0;for(o in NSingletons[e].constructor.prototype)s++;i+="\n ["+s+"]...";break;default:for(o in NSingletons[e].constructor.prototype)i+="\n"+u++ +" : "+o}t++}n.push(i);var a="# Native Module";t=0;for(e in NModules)a+="\n MODULE("+t+") ::"+N.API(e),t++;return n.push(a),n.join("\n")},N.DEBUGER=!1;var NativeFactoryObject=function(t,e,n,r){if(e in NModules)return console.error("NodyNativeCore :: already exsist module =>",e),!1;var i,o,u,s;switch(t){case"object":i={},o="function"==typeof n?function(){return n.apply(this,Array.prototype.slice.call(arguments)),this}:function(t){return this.Source=t,this},u=r?r:function(){return this.Source};var a=function(){if("function"==typeof this.set){for(var t in NModules[e].prototype)/^\+[^+]+/.test(t)&&(this[t.substr(1)]=NModules[e].prototype[t]);this.set.apply(this,Array.prototype.slice.apply(arguments))}};s=a;break;case"array":i=[],o="function"==typeof n?n:function(t){return this.setSource(t)},u=function(){return this.toArray.apply(this,arguments)};var f=function(){if("function"==typeof this.set){for(var t in NModules[e].prototype)/^\+[^+]+/.test(t)&&(this[t.substr(1)]=NModules[e].prototype[t]);this.set.apply(this,Array.prototype.slice.apply(arguments))}};s=f;break;default:throw new Error("NativeFactoryObject :: \uc633\uc9c0\uc54a\uc740 \ud0c0\uc785\uc774 \uc774\ub2c8\uc15c\ub77c\uc774\uc9d5 \ub418\uace0 \uc788\uc2b5\ub2c8\ub2e4. => "+t)}return NModules[e]=s,NModules[e]["new"]=function(t){return function(){return new(Function.prototype.bind.apply(t,[t].concat(Array.prototype.slice.call(arguments))))}}(NModules[e]),NModules[e].prototype=i,NModules[e].prototype.__NativeType__=t,NModules[e].prototype.__NativeHistroy__=[e],NModules[e].prototype.constructor=s,NModules[e].prototype.__NativeModule__=function(t){return 0===arguments.length?this.__NativeHistroy__[this.__NativeHistroy__.length-1]:this.__NativeHistroy__[this.__NativeHistroy__.length-1]==t},NModules[e].prototype.set=o,NModules[e].prototype.get=u,NModules[e].prototype._super=function(t){var e,n,r,i,o=arguments.callee.caller,u=0;for(scopeMax=this.__NativeHistroy__.length;u<scopeMax;u++){e=this.__NativeHistroy__.length-1-u,n=this.__NativeHistroy__[e],r=NModules[n].prototype.constructor.prototype;for(var s in r)if("_super"!==s&&r[s]==o){i=s;break}if("undefined"!=typeof i)break}if("undefined"==typeof i)return void console.error("NodyNativeCore::_super::\ud574\ub2f9 \ud568\uc218\uc5d0 \uadf8\ub7ec\ud55c \ud504\ub85c\ud1a0\ud0c0\uc785\uc774 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.",o);for(var a=0,f=void 0,a=0,c=e;c>a;a++){var h=this.__NativeHistroy__.length-u-2,p=this.constructor.prototype.__NativeHistroy__[h],l=NModules[p],E=(l.prototype,l.prototype[i]);if(u++,"function"!=typeof E)break;if(o!==E){f=E.apply(this,Array.prototype.slice.call(arguments));break}}return f},!0},NativeFactoryExtend=function(t,e,n,r){if("object"==typeof e&&t in NModules){var i=NModules[t].prototype;"function"==typeof n&&(e.set=n,n=!0),"function"==typeof r&&(e.get=r,r=!0);for(var o in e)switch(o){case"constructor":case"_super":break;case"__NativeHistroy__":i[o]=Array.prototype.slice.call(e[o]);break;case"set":1==n&&(i[o]=e[o]);break;case"get":1==r&&(i[o]=e[o]);break;default:/^\+\+[^\+]+/.test(o)&&!function(t,e,n){e&&("function"==typeof n?t[e]=function(){return n.apply(t,Array.prototype.slice.call(arguments))}:t[e]=n)}(NModules[t],o.substr(2),e[o]),i[o]=e[o]}return!0}return!1},NativeFactoryDeploy=function(t){t in NModules&&!function(e){nody[t]=e,e.prototype.__NativeInitializer__=e["new"]}(NModules[t])};N.MODULE=function(t,e,n,r){NativeFactoryObject("object",t)&&("function"==typeof e&&(r=n,n=e,e={}),NativeFactoryExtend(t,e,n,r),NativeFactoryDeploy(t))},N.MODULE_PROPERTY=function(t,e,n){return NModules[t][e]=n,NModules[t]},N.ARRAY_MODULE=function(t,e,n,r){NativeFactoryObject("array",t)&&(NativeFactoryExtend(t,e,n,r),NativeFactoryDeploy(t))},N.EXTEND_MODULE=function(t,e,n,r,i){"function"==typeof n&&(i=r,r=n,n={});var o=NModules[t];if("undefined"==typeof o)throw new Error("\ud655\uc7a5\ud560 behavior ("+t+")\uac00 \uc5c6\uc2b5\ub2c8\ub2e4"+N.toString(NModules));if(NativeFactoryObject(o.prototype.__NativeType__,e)){var u=NModules[e];NativeFactoryExtend(e,o.prototype,!0,!0),NativeFactoryExtend(e,n,r,i),u.prototype.__NativeHistroy__.push(e),NativeFactoryDeploy(e)}};var METHOD_BIND_FUNCTION=function(t,e,n,r){r.prototype[e]=function(){return n[e].apply(this,Array.prototype.slice.call(arguments)),this},t[e]=function(){var t=new r;return t[e].apply(t,Array.prototype.slice.call(arguments)),t}};N.METHOD=function(t,e,n){if(N[t]=e,NMethods.push(t),"object"==typeof n){var r=function(){var t=this;this.__NODY_METHOD_NEW__=!0,this.call=function(){return e.apply(t,Array.prototype.slice.call(arguments))}};for(var i in n)METHOD_BIND_FUNCTION(e,i,n,r)}return e},N.SINGLETON=function(t,e,n){var r=n?n:function(){};r.prototype=e,r.prototype.constructor=r,r.prototype.EACH_TO_METHOD_WITH_PREFIX=function(){for(var e in r.prototype)switch(e){case"EACH_TO_METHOD":case"EACH_TO_METHOD_WITH_PREFIX":case"constructor":break;default:N.METHOD(t+e,r.prototype[e])}},r.prototype.EACH_TO_METHOD=function(){for(var t in r.prototype)switch(t){case"EACH_TO_METHOD":case"EACH_TO_METHOD_WITH_PREFIX":case"constructor":break;default:N.METHOD(t,r.prototype[t])}},N[t]=new r,NSingletons[t]=N[t]};var CORE={};N.CORE=CORE,CORE.NDCLASS=function(t,e){return e&&(t.prototype=e),t.prototype||(t.prototype={}),t.prototype.constructor=t,t},N.METHOD("dummy",function(t,e){var n,r=function(t){if("object"==typeof t)for(var e in t)this[e]=t[e]};return"object"==typeof t&&("object"==typeof e&&(r.prototype=e),n=new r(t)),"function"==typeof t&&("object"==typeof e&&(t.prototype=e),n=new t),n}),CORE.KNOWN={TIMESCALE:[{key:"year",alias:"Y",scale:31536e6},{key:"month",alias:"M",scale:26784e5},{key:"day",alias:"D",scale:864e5},{key:"hour",alias:"h",scale:36e5},{key:"minute",alias:"m",scale:6e4},{key:"second",alias:"s",scale:1e3},{key:"ms",alias:"millisecond",scale:1}],TIMEPERIOD:[["year","Y"],["month","M"],["day","D"],["hour","H","h"],["minute","m"],["second","s"],["ms","millisecond"]]},CORE.TYPEOF={VENDER:function(t){return"object"==typeof t&&null!==t&&"jquery"in t?!0:!1},LIKEARRAY:function(t){return"object"==typeof t&&null!==t?!(t instanceof Array||t instanceof NodeList||t instanceof HTMLCollection||CORE.TYPEOF.VENDER(t)||!isNaN(t.length)&&isNaN(t.nodeType))||t instanceof Window?!1:!0:!1},ARRAY:function(t){return t instanceof Array},NODE:function(t){return null==t?!1:"object"==typeof t&&"number"==typeof t.nodeType?!0:!1},ELEMENT:function(t){return null==t?!1:"object"==typeof t&&1==t.nodeType?!0:!1}},CORE.NEW_ARRAY=function(t){if(CORE.TYPEOF.LIKEARRAY(t)){if("toArray"in t)return Array.prototype.slice.apply(t.toArray());for(var e=[],n=0,r=t.length;r>n;n++)e.push(t[n]);return e}return t||0==t?[t]:[]},CORE.AS_ARRAY=function(t){return CORE.TYPEOF.ARRAY(t)?t:CORE.NEW_ARRAY(t)},CORE.AS_OBJECT=function(t,e,n){if("object"==typeof t)return t?t:{};if(1==n&&("string"==typeof t||"string"==typeof e)){var r={};return r[e]=t,r}if("string"==typeof t||"boolean"==typeof t)var i=CORE.TRY_CATCH(function(){if(JSON==aJSON)throw new Error("not json supported browser");var e=JSON.parse(t);if("object"!=typeof e)throw new Error("pass")},function(n){if("plain"==new N.StringSource(t).isDataContent()){var r="string"==typeof e?e:"value",i={};return i[r]=t,i}return new N.StringSource(t).getContentObject()});return i||{}},CORE.RECALL=function(t){return"function"==typeof t?t.apply(this,Array.prototype.slice.call(arguments,1)):t},CORE.CALLFOR=function(t,e){return"function"==typeof t?t.apply(this,Array.prototype.slice.call(arguments,1)):e},CORE.CLONE=function(t,e){if(1==e){if(CORE.TYPEOF.LIKEARRAY(t)){CORE.TYPEOF.LIKEARRAY(e)||(e=[]);for(var n=0,r=t.length;r>n;n++)e.push("object"==typeof t[n]&&null!==t[n]?CORE.CLONE(t[n]):t[n]);return e}1==e&&(e={});for(var i in t)"object"==typeof t[i]&&null!==t[i]&&e[i]?CORE.CLONE(t[i],e[i]):e[i]=t[i];return e}switch(typeof t){case"undefined":case"function":case"boolean":case"number":case"string":return t;case"object":if(null===t)return t;if(t instanceof Date){var o=new Date;return o.setTime(t.getTime()),o}if(CORE.TYPEOF.LIKEARRAY(t)){for(var o=[],n=0,u=t.length;u>n;n++)o.push(t[n]);return o}if(1==CORE.TYPEOF.ELEMENT(t))return t;var o={};for(var s in t)t.hasOwnProperty(s)&&(o[s]=t[s]);return o;default:return console.error("CORE.CLONE::copy failed : target => ",t),t}},CORE.NUMBER={NUMBERS:function(t){var e=[0,"0",0,!isNaN(parseFloat(t))],n="";if((t+"").replace(/\d|\./g,function(t){n+=t}),/\d/.test(n)){var r=n.indexOf(".");switch(r){case-1:e[0]=1*n;break;case 0:n="0"+n;default:var i=/[\d]+\./.exec(n)[0];e[0]=1*i.substr(0,i.length-1),e[1]=/\.[\d]+/.exec(n),null===e[1]?(e[1]="0",e[2]=0):(e[1]=e[1][0].substr(1),e[2]=e[1].length)}}return e},INT:function(t){return CORE.NUMBER.NUMBERS(t)[0]},FLOAT:function(t){var e=CORE.NUMBER.NUMBERS(t);return e[0]+parseFloat("0."+e[1])},NUMBER:function(t,e){switch(typeof t){case"number":return t;case"string":var n=1*t.replace(/[^.\d\-]/g,"");return isNaN(n)?0:n}switch(typeof e){case"number":return e;case"string":var n=1*e;return isNaN(n)?0:n}return 0}},CORE.ENUM={EACH:function(t,e){for(var t=CORE.AS_ARRAY(t),n=0,r=t.length;r>n&&0!=e(t[n],n);n++);return t},MAP:function(t,e){for(var t=CORE.AS_ARRAY(t),n=0,r=t.length;r>n;n++)t[n]=e(t[n],n);return t},INJECT:function(t,e){for(var t=CORE.NEW_ARRAY(t),n=0,r=t.length;r>n;n++)t[n]=e(t[n],n);return t},REDUCE:function(t,e){for(var t=CORE.NEW_ARRAY(t),n=0,r=t.length;r>n;n++)t=e(t,t[n],n);return t},PROPEACH:function(t,e){for(var n in t)if(0==e(t[n],n))break;return t},PROPMAP:function(t,e){for(var n in t)t[n]=e(t[n],n);return t},FILTER:function(t,e){var t=CORE.AS_ARRAY(t),n=CORE.CLONE(t),e="function"==typeof e?e:function(t){return t===e?!1:!0},t=CORE.DATAPROC.CLEAR(t);return CORE.ENUM.EACH(n,function(n){1==e(n)&&t.push(n)}),t},ANY:function(t,e){var n=!1,e="function"==typeof e?e:function(t){return t===e},r=void 0;return CORE.ENUM.EACH(t,function(t,i){return 0==i&&(r=t),e(t,i,r)===!0?(n=!0,!1):void 0}),n},ALL:function(t,e){var n=!0,e="function"==typeof e?e:function(t){return t===e},r=void 0;return CORE.ENUM.EACH(t,function(t,i){return 0==i&&(r=t),e(t,i,r)===!1?n=!1:void 0}),n}},CORE.INDEX={LIMIT:function(t,e,n){return"number"!=typeof e?t:("number"!=typeof n&&(n=0),t>e?e:n>t?n:t)},PAGE:function(t,e){return Math.floor(t/e)},REVERSE:function(t,e){return e-1-t},TURN:function(t,e){if(0>t){var n=Math.abs(t);t=e-(n>e?n%e:n)}return e>t?t:t%e},BOUNCE:function(t,e){return t=CORE.NUMBER.NUMBER(t),e=CORE.NUMBER.NUMBER(e),0==t||Math.floor(t/e)%2==0?t%e:e-t%maxIndex}},CORE.NDZONE=CORE.NDCLASS(function(t,e){if(this.$type=this.$stuff=this.$step=this.$cache=void 0,t instanceof CORE.NDZONE)return this.$type=t.$type,this.$stuff=t.$stuff,void(this.$step=t.$step);if(CORE.TYPEOF.ARRAY(t))return 0==e?this.setArrange(CORE.CLONE(t)):this.setRange(t[0],t[t.length-1],e);var t=(t+"").trim(),n=/^([\-\+\.0-9]+)(\~|\-)([\-\+\.0-9]+)$/.exec(t);if(n){var r=Array.prototype.slice.call(n,1);return this.setRange(r[0],r[2],e)}return t.indexOf("||")>-1?this.setArrange(t.split("||")):t.indexOf(",")>-1?this.setArrange(t.split(",")):void this.setArrange([t])},{setStep:function(t){var t=CORE.NUMBER.FLOAT(t);this.$step=0==t?1:t},setRange:function(t,e,n){this.$type="range",t=CORE.NUMBER.FLOAT(t),e=CORE.NUMBER.FLOAT(e),t>e?this.$stuff=[e,t]:this.$stuff=[t,e],this.$step?n&&this.setStep(n):this.setStep(n)},setArrange:function(t){this.$type="arrange",this.$stuff=t},step:function(){return this.$step},clone:function(){return new CORE.NDZONE(this)},range:function(t){if(this.$cache)return this.$cache;switch(this.$type){case"range":return this.$cache=nd.range(N.parseFloat(this.$stuff[1]),N.parseFloat(this.$stuff[0]),this.$step,!0);case"arrange":return this.$cache=1==t?N.map(this.$stuff[0].split(this.$stuff[1]),function(t){return N.parseFloat(t)}):this.$stuff[0].split(this.$stuff[1])}},maximum:function(t){return"range"===this.$type?"number"==typeof t?(delete this.$cache,this.setRange(this.$stuff[0],t),this):this.$stuff[1]:N.last(this.range("boolean"==typeof t?t:!0))},minimum:function(t){return"range"===this.$type?"number"==typeof t?(delete this.$cache,this.setRange(t,this.$stuff[1]),this):N.parseFloat(this.$stuff[0]):N.first(this.range("boolean"==typeof t?t:!0))},attract:function(){return N.attract(this.range())},around:function(t){if("range"===this.$type){var t=CORE.NUMBER.FLOAT(t),e=this.minimum(),n=this.maximum();return t>=n?n:e>=t?e:Math.round((t-e)/this.$step)*this.$step+e}var r=this.range();if(r[0]>t||1===r.length)return r[0];if(r[r.length-1]<t)return r[r.length-1];for(var i,o,u=0,s=r.length;s>u&&!(r[u]>t);u++)i=r[u],o=u;if(!i)return r[r.length-1];var a=r[o+1];return"undefined"==typeof a?i:a-t>t-i?i:a},length:function(){return"range"===this.$type?Math.floor((N.parseFloat(this.$stuff[1])-(N.parseFloat(this.$stuff[0])-this.$step))/this.$step):this.range().length},size:function(){return"range"===this.$type?N.parseFloat(this.$stuff[1])-N.parseFloat(this.$stuff[0]):this.range().length},valueAt:function(t,e){var t=(e||CORE.INDEX.LIMIT)(t,this.length());switch(this.$type){case"range":return this.minimum()+this.$step*t;case"arrange":return this.range()[t]}},vectorByValue:function(t){return(t-this.minimum())/this.size()},valueByVector:function(t,e){var n=this.minimum()+this.size()*t;return 0==e?n:this.around(n)},isInner:function(t){return t instanceof CORE.NDZONE||(t=new CORE.NDZONE(t)),this.maximum()<=t.maximum()&&this.minimum()>=t.minimum()},isOuter:function(t){return t instanceof CORE.NDZONE||(t=new CORE.NDZONE(t)),this.minimum()>=t.maximum()||this.maximum()<=t.minimum()},isBefore:function(t){return t instanceof CORE.NDZONE||(t=new CORE.NDZONE(t)),this.minimum()<t.maximum()},isAfter:function(t){return t instanceof CORE.NDZONE||(t=new CORE.NDZONE(t)),this.maximum()<t.minimum()},isConfilct:function(t){return!this.isOuter(t)}}),CORE.NDCURSOR=CORE.NDCLASS(function(t,e,n){this.$domain=n,this.setPosition(t),this.setSize(t)},{setPosition:function(t){var e=CORE.CALLFOR(this.$fixedDomainPosition,CORE.NUMBER.FLOAT(t)),n=this.$domain;this.$position=CORE.CALLFOR(function(t){if(n){var e=n.$domain.minimum(),r=n.$domain.maximum();if(e>t)return e;if(t>r)return r}return t},e)},setSize:function(t){var e=CORE.CALLFOR(this.$fixedDomainSize,CORE.NUMBER.FLOAT(t)),n=this.$domain;this.$size=CORE.CALLFOR(function(t){if(0>t)return 0;if(n){var e=n.$domain.size();if(t>e)return e}return t},e)},setPositionByRange:function(t){this.setPosition(this.$domain.$domain.valueByVector(this.$domain.$range.vectorByValue(t)))},getPosition:function(){return this.$position},getRangePosition:function(){var t=this.$domain.$domain.vectorByValue(this.$position);return this.$domain.$range.valueByVector(t)}}),CORE.NDDOMAIN=CORE.NDCLASS(function(t,e){this.$cursors=[],this.setDomain(t),this.setRange(e)},{setDomain:function(t){this.$domain=new CORE.NDZONE(t)},setRange:function(t){this.$range=new CORE.NDZONE(t)},getDomain:function(){return this.$domain},getRange:function(){return this.$range},scale:function(){return this.$range.size()/this.$domain.size()},newCursor:function(t,e){var n=new CORE.NDCURSOR(t,e,this);return n}}),CORE.PIPE=function(t,e,n){var r=function(){if(arguments.length>=r.__NativeMethodOver__)for(var e=r.__NativeMethodOver__,i=arguments.length;i>e;e++)if("function"==typeof arguments[e])return arguments[e].apply(n,[t.apply(n,Array.prototype.slice.call(arguments,0,e))].concat(Array.prototype.slice.call(arguments,e+1,i)));return r.__NativeMethod__.apply(n,Array.prototype.slice.call(arguments))};return r.__NativeMethod__=t,r.ACLINK=function(t){var e=CORE.NEW_ARRAY(t);return e[0]&&(e[0]=CORE.CLONE(e[0])),r.apply(void 0,e)},r.BOOST=t,r.__NativeMethodOver__=e||1,r},N.METHOD("this",CORE.PIPE(function(t,e){return"function"==typeof e?e(t):e},2)),CORE.TRY_CATCH=function(t,e,n){try{return t.call(n)}catch(r){if("function"==typeof e)return e.call(n,r)}};var UNIQUE_RANDOM_KEYS=[];N.SINGLETON("RANDKIT",{base64Token:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",base64Random:function(t,e,n){t=isNaN(t)?1:parseInt(t),e=isNaN(e)?0:parseInt(e),n=isNaN(n)?64-e:parseInt(n);for(var r="",i=0,o=t;o>i;i++)r+=this.base64Token.charAt(e+parseInt(Math.random()*n));return r},base64UniqueRandom:function(t,e,n,r){var i,o=0;e="string"==typeof e?e:"";do{var u=!1;i=e+this.base64Random(t,n,r),N.each(UNIQUE_RANDOM_KEYS,function(t){return t==i&&(u=!0),!1}),o++,o>100&&(console.log("base64UniqueRandom 1000\ud68c \uc774\uc0c1 \ub79c\ub364\uc744 \uc0dd\uc131\ud558\uc600\uc9c0\ub9cc unique \uac12\uc744 \uad6c\ud560\uc218 \uc5c6\uc5c8\uc2b5\ub2c8\ub2e4"),u=!1,i=void 0)}while(u);return i&&UNIQUE_RANDOM_KEYS.push(i),i},base62Random:function(t){return this.base64Random(t,0,62)},base62UniqueRandom:function(t,e){return this.base64UniqueRandom(t||6,e,0,62)},random:function(t){return parseInt(this.base64Random(t,52,10))},numberRandom:function(t){return this.base64Random(t,52,10)},base36Random:function(t){return this.base64Random(t,26,36)},base36UniqueRandom:function(t,e){return this.base64UniqueRandom(t||6,e,26,36)},base26Random:function(t){return this.base64Random(t,0,52)},base26UniqueRandom:function(t,e){return this.base64UniqueRandom(t||6,e,0,52)},versus:function(t){return"number"!=typeof t&&(t=.5),!!t&&Math.random()<=t},attract:function(t,e){if(t=CORE.NEW_ARRAY(t),"undefined"==typeof e)return t[Math.floor(Math.random()*t.length)];e>t.length&&(e=t.length);for(var n=[],r=0,i=e;i>r;r++){var o=Math.floor(Math.random()*t.length);n.push(t[o]),t.splice(o,1)}return n},shuffle:CORE.PIPE(function(t){t=CORE.NEW_ARRAY(t);for(var e,n,r=t.length;r;e=parseInt(Math.random()*r),n=t[--r],t[r]=t[e],t[e]=n);return t},1)}),N.RANDKIT.EACH_TO_METHOD();var nody_cache;N.cache={has:function(t,e){return t in nody_cache&&e in nody_cache[t]?!0:!1},set:function(t,e,n){t in nody_cache||(nody_cache[t]={}),nody_cache[t][e]=n},get:function(t,e){return N.cache.has(t,e)?nody_cache[t][e]:void 0},clear:function(){nody_cache={"N.selectorInfo":{"":{}},AreaContent:{}}},trace:function(){return JSON.stringify(nody_cache)}},N.cache.clear();var nody_typemap={string:"isString",number:"isNumber",likenumber:"likeNumber",likestring:"likeString",array:"isArray",object:"isObject",email:"isEmail",ascii:"isAscii","true":"isTrue","false":"isFalse",nothing:"isNothing",ok:"isOk"};N.SINGLETON("TYPE",{isUndefined:function(t){return"undefined"==typeof t?!0:!1},isDefined:function(t){return"undefined"!=typeof t?!0:!1},isNull:function(t){return null===t?!0:!1},isNil:function(t){return null===t||"undefined"==typeof t?!0:!1},isFunction:function(t){return"function"==typeof t?!0:!1},isBoolean:function(t){return"boolean"==typeof t?!0:!1},isObject:function(t){return"object"==typeof t?!0:!1},isString:function(t){return"string"==typeof t?!0:!1},isNumber:function(t){return"number"==typeof t?!0:!1},likeNumber:function(t){return"number"==typeof t?!0:"string"==typeof t?parseFloat(t)+""==t+"":!1},isJquery:CORE.TYPEOF.VENDER,isArray:CORE.TYPEOF.LIKEARRAY,isArguments:function(t){return"object"==typeof t&&null!==t&&"callee"in t?!0:!1},isEmail:function(t){return N.likeString(t)?/^[\w]+\@[\w]+\.[\.\w]+/.test(t):!1},isAscii:function(t){return N.likeString(t)?/^[\x00-\x7F]*$/.test(t):!1},isTrue:function(t){return t?!0:!1},isFalse:function(t){return t?!0:!1},likeString:function(t){return"string"==typeof t||"number"==typeof t?!0:!1},isWindow:function(t){return"object"==typeof t?"navigator"in t:!1},isDocument:function(t){return"object"==typeof t&&9==t.nodeType?!0:!1},isElement:CORE.TYPEOF.ELEMENT,isNode:CORE.TYPEOF.NODE,hasNode:function(t){if(CORE.TYPEOF.LIKEARRAY(t)){for(var e=0,n=t.length;n>e;e++)if(CORE.TYPEOF.ELEMENT(t[e]))return!0;return!1}return CORE.TYPEOF.ELEMENT(t)},isTextNode:function(t){return null==t?!1:"object"!=typeof t||3!=t.nodeType&&8!=t.nodeType?!1:!0},isNothing:function(t){if("undefined"==typeof t)return!0;if("string"==typeof t)return t.trim().length<1?!0:!1;if("object"==typeof t){if(t instanceof RegExp)return!1;if(CORE.TYPEOF.ELEMENT(t))return!1;if(null==t)return!0;if(CORE.TYPEOF.LIKEARRAY(t))t=t.length;else{var e=0;for(var n in t){e=1;break}t=e}}return"number"==typeof t?1>t?!0:!1:"function"==typeof t?!1:"boolean"==typeof t?!this.Source:(console.warn("N.isNothing::\uc774 \ud0c0\uc785\uc5d0 \ub300\ud574 \uc54c\uc544\ub0b4\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4. nothing\uc73c\ub85c \uac04\uc8fc\ud569\ub2c8\ub2e4.",t),!0)},isOk:function(t){return!N.isNothing(t)},toLength:function(t,e){switch(typeof t){case"number":return(t+"").length;case"string":return t.length;case"object":if("length"in t)return t.length}return"undefined"==typeof e?0:e},toSize:function(t,e){switch("undefined"!=typeof e&&"string"!=typeof e&&console.error("N.toSize::type\uc740 \ubc18\ub4dc\uc2dc string\uc73c\ub85c \ubcf4\ub0b4\uc8fc\uc138\uc694",e),e){case"likenumber":return parseFloat(t);case"number":return parseFloat(t);case"likestring":case"text":case"email":case"ascii":return(t+"").length;case"string":case"array":return t.length;case"object":default:return N.toLength(t)}},is:function(t,e,n,r){if(N.isNothing(e))return N.isTrue(t);var i;switch(typeof e){case"string":var o=[];e.trim().replace(/\S+/g,function(t){o.push(t)});for(var u=0,s=o.length;s>u;u++){if(/^(\!|)(\w*)([\>\<\=\:]{0,3})([\S]*)/.test(o[u]))var a=/^(\!|)(\w*)([\>\<\=\:]{0,3})([\S]*)/.exec(o[u]);else console.warn("\ud3ec\uba67\uc774 \uc62c\ubc14\ub974\uc9c0 \uc54a\uc740 \ud0a4\uc6cc\ub4dc \uc785\ub2c8\ub2e4.",o[u]);var f=nody_typemap[a[2]];if(nody_typemap[a[2]]){if(i=N.TYPE[f](t),"!"==a[1]&&(i=!i),!i)break;if(""!=a[3]&&""!=a[4]){if(N.likeNumber(a[4]))switch(a[3]){case">":i=N.toSize(t,a[2])>parseFloat(a[4]);break;case"<":i=N.toSize(t,a[2])<parseFloat(a[4]);break;case"<=":case"=<":case"<==":case"==<":i=N.toSize(t,a[2])<=parseFloat(a[4]);break;case">=":case"=>":case">==":case"==>":i=N.toSize(t,a[2])>=parseFloat(a[4]);break;case"==":case"===":i=N.toSize(t,a[2])==parseFloat(a[4]);break;case"!=":case"!==":i=N.toSize(t,a[2])!=parseFloat(a[4])}else if(":"===a[3]&&/\d+\~\d+/.test(a[4])){var c=/(\d+)\~(\d+)/.exec(a[4]);if(c[1]==c[2])i=N.toSize(t,a[2])==parseFloat(a[4]);else{var h=1*c[1],p=1*c[2],l=N.toSize(t,a[2]);i=h>p?h>=l&&l>=p:p>=l&&l>=h}}if(!i)break}}else console.warn("Nody::IS::\uc778\uc2dd\ud560\uc218 \uc5c6\ub294 \ud0c0\uc785\uc758 \ud0a4\uc6cc\ub4dc \uc785\ub2c8\ub2e4. => ",a[2]+"("+typeof a[2]+")")}break;case"object":i=e instanceof RegExp&&N.likeString(t)?e.test(t+""):!1}return i===!0?"function"==typeof n?n(t):"undefined"!=typeof n?n:!0:i===!1?"function"==typeof r?r(t):"undefined"!=typeof r?r:!1:!1},like:function(t,e,n,r){return N.isString(t)&&(t=t.trim()),N.is(t,e,n,r)}}),N.TYPE.EACH_TO_METHOD(),CORE.DATAPROC={CLEAR:function(t){if("object"==typeof t){if(CORE.TYPEOF.LIKEARRAY(t))Array.prototype.splice.call(t,0,t.length);else for(var e in t)delete t[e];return t}return[]},PUSH:function(t,e,n){return"object"==typeof t&&(CORE.TYPEOF.LIKEARRAY(t)?t.push(e):t[n||"value"]=e),t}},N.SINGLETON("DATAKIT",{asArray:CORE.PIPE(function(t){return CORE.TYPEOF.LIKEARRAY(t)?t:CORE.NEW_ARRAY(t)},1),asObject:CORE.PIPE(function(t,e,n){return CORE.AS_OBJECT(t,e,n)},1),toArray:CORE.PIPE(function(t){return CORE.NEW_ARRAY(t)},1),toObject:CORE.PIPE(function(t,e,n){return CORE.AS_OBJECT(t,e,n)},1),pushOf:CORE.PIPE(CORE.DATAPROC.PUSH,2),push:CORE.PIPE(function(t,e,n){return CORE.DATAPROC.PUSH(CORE.CLONE(t),e,n)},2),has:function(t,e){if("object"==typeof t){if(CORE.TYPEOF.LIKEARRAY(t)){for(var n=0,r=t.length;r>n;n++)if(t[n]===e)return!0;return!1}for(var i in t)if(t[i]===e)return!0;return!1}},addOf:CORE.PIPE(function(t,e,n){return N.has(t,e)?t:N.pushOf.BOOST(t,e,n)},2),add:CORE.PIPE(function(t,e,n){return N.has(t,e)?t:N.push.BOOST(t,e,n)},2),clear:CORE.PIPE(CORE.DATAPROC.CLEAR,1),filterOf:CORE.PIPE(CORE.ENUM.FILTER,2),filter:CORE.PIPE(function(t,e){return CORE.ENUM.FILTER(CORE.CLONE(t),e)},2),count:function(t){return"object"==typeof t?t instanceof Array?t.length:Object.keys(t).length:"string"==typeof t?t.length:0},extendOf:function(t){if("object"!=typeof t)return t;for(var e=1,n=arguments.length;n>e;e++)if("object"==typeof arguments[e])for(var r in arguments[e])t[r]=arguments[e][r];return t},extend:function(t,e,n){if("object"!=typeof t&&(t=void 0===t?{}:{data:t}),n!==!0&&(n=CORE.AS_ARRAY(n)),n.length||n===!0)for(var r in e)r in t?(n===!0||N.has(n,r))&&(t[r]=e[r]):t[r]=e[r];else for(var r in e)r in t||(t[r]=e[r]);return t},margeOf:function(t){return"object"!=typeof t&&(t=void 0===t?{}:{data:t}),N.extend.apply(void 0,[CORE.CLONE(t,!0)].concat(Array.prototype.slice.call(arguments,1)))},marge:function(t,e,n){return N.extendOf(CORE.CLONE(t,!0),e,n)},keyOf:function(t,e){if(CORE.TYPEOF.LIKEARRAY(t)===!0){for(var n=0,r=t.length;r>n;n++)if(t[n]===e)return n}else if("object"==typeof t){for(var i in t)if(t[i]===e)return i}else if("string"==typeof t)return t.indexOf(e)},all:CORE.ENUM.ALL,any:CORE.ENUM.ANY,where:CORE.PIPE(function(t,e){var n=[];if("object"==typeof e)for(var r=0,i=t.length;i>r;r++)if("object"==typeof t[r]){var o=!0;for(var u in e){if(!t[r].hasOwnProperty(u)){o=!1;break}if(t[r][u]!==e[u]){o=!1;break}}o===!0&&n.push(t[r])}return n},2),findWhere:CORE.PIPE(function(t,e){if("object"==typeof e)for(var n=0,r=t.length;r>n;n++)if("object"==typeof t[n]){var i=!0;for(var o in e){if(!t[n].hasOwnProperty(o)){i=!1;break}if(t[n][o]!==e[o]){i=!1;break}}if(i===!0)return t[n]}},2),removeByKey:function(t,e){if(CORE.TYPEOF.LIKEARRAY(t)){var n=0;N.each(N.unique(e,nd.sort,function(t,e){return e>t}),function(e){"number"==typeof e&&t.splice(e+n--,1)})}return t},removeByValue:function(t,e){if(CORE.TYPEOF.LIKEARRAY(t)){for(var n=[],r=0,i=t.length;i>r;r++)t[r]===e&&n.push(r);n.length&&N.removeByKey(t,n)}return t},removeByValues:function(t,e){if(CORE.TYPEOF.LIKEARRAY(t)){for(var n=[],r=0,i=t.length;i>r;r++)for(var o=0,u=e.length;u>o;o++)if(t[r]===e[o]){n.push(r);break}n.length&&N.removeByKey(t,n)}return t},removeOf:CORE.PIPE(function(t,e){return N.removeByValue(t,e)},2),remove:CORE.PIPE(function(t,e){return N.removeOf.BOOST(CORE.CLONE(t),e)},2),omitOf:CORE.PIPE(function(t,e){return N.removeByValues(t,N.where.BOOST(t,e))},2),omit:CORE.PIPE(function(t,e){return N.removeByValues(CORE.CLONE(t),N.where.BOOST(t,e))},2),needOf:CORE.PIPE(function(t,e){return!N.has(t,e)&&N.pushOf.BOOST(t,e),t},2),need:CORE.PIPE(function(t,e){return N.needOf.BOOST(CORE.CLONE(t),e)},2),nth:CORE.PIPE(function(t,e){return t[~~e+1]},2),first:CORE.PIPE(function(t,e){if("function"==typeof e&&CORE.TYPEOF.LIKEARRAY(t))for(var n=0,r=t.length;r>n;n++)if(e(t[n],n)===!0)return t[n];return"object"==typeof t?"undefined"==typeof t[0]?void 0:t[0+~~e]:t},2),last:CORE.PIPE(function(t,e){return CORE.TYPEOF.LIKEARRAY(t)?t[t.length-1-~~e]:t},2),each:CORE.PIPE(function(t,e){for(var n=CORE.AS_ARRAY(t),r=0,i=n.length;i>r;r++)if(e.call(n[r],n[r],r)===!1)return!1;return n},2),reverseEach:CORE.PIPE(function(t,e){for(var n=CORE.AS_ARRAY(t),r=n.length-1;r>-1;r--)if(e.call(n[r],n[r],r)===!1)return!1;return n},2),map:CORE.PIPE(function(t,e){var n=[],r=CORE.AS_ARRAY(t);if("function"==typeof e)for(var i=0,o=r.length;o>i;i++)n.push(e.call(r[i],r[i],i));else if("string"==typeof e||"number"==typeof e)for(var i=0,o=r.length;o>i;i++)n.push(N.from.BOOST(r[i],e));return n},2),times:CORE.PIPE(function(t,e,n){t=CORE.NUMBER.NUMBER(t);var r=[];if("string"==typeof e)var i=e,e=function(t){return N.exp.seed(t)(i)};for(var o="number"==typeof n?n:0;t>o;o++)r.push(e(o));return r},2),defineMap:CORE.PIPE(function(t,e,n){for(var t=t,r="undefined"==typeof t?[]:[t],n=(CORE.AS_ARRAY(t),"number"==typeof n?n:1e5),i=0;n>i&&(t=e.call(t,t,i),"undefined"!=typeof t);i++)r.push(t);return r},2),range:CORE.PIPE(function(t,e,n,r){var i=[];if(t=parseFloat(t),t=isNaN(t)?0:t,e=parseFloat(e),e=isNaN(e)?0:e,n=parseFloat(n),n=isNaN(n)||0==n?1:n,0>=n)return console.warn("range::not support minus step"),i;if(1==r)for(var o=e,u=t;u>=o;o+=n)i.push(o);else for(var o=e,u=t;u>o;o+=n)i.push(o);return i},1),from:CORE.PIPE(function(t,e){if("object"==typeof t&&"string"==typeof e){if(e.indexOf(".")>0){for(var n=e.split("."),r=t,i=0,o=n.length;o>i;i++)r[n[i]]&&(r=r[n[i]]);return r}return t[e]}return"object"==typeof t&&"number"==typeof e?t[e]:void 0},2),get:CORE.PIPE(function(t,e){return"object"==typeof t||"string"==typeof t?t[e]:t},1),setOf:CORE.PIPE(function(t,e,n){return"undefined"==typeof n&&(n="string"==typeof t||CORE.TYPEOF.LIKEARRAY(e)?0:"value"),("object"==typeof t||"string"==typeof t)&&(t[n]=CORE.RECALL(e)),t},2),set:CORE.PIPE(function(t,e,n){return N.setOf.BOOST(CORE.CLONE(t),e,n)},2),inject:function(t,e,n){n="object"==typeof n?n:{},t=CORE.AS_ARRAY(t);for(var r=0,i=t.length;i>r;r++)e(n,t[r],r);return n},insert:CORE.PIPE(function(t,e,n){return t=CORE.AS_ARRAY(t),Array.prototype.splice.call(t,"number"==typeof n?n:0,0,e),t},2),sort:CORE.PIPE(function(t,e){if(0==t.length)return CORE.NEW_ARRAY(t);if("function"!=typeof e)return Array.prototype.sort.call(new N.Array(t));for(var n=[t[0]],r=1,i=t.length;i>r;r++)for(var o=0,u=n.length;u>o;o++){if(e(t[r],n[o])===!0){N.insert(n,t[r],o);break}o+1===n.length&&n.push(t[r])}return n},2),arrayShift:function(t,e,n){return Array.prototype.splice.apply(t,[0,"number"==typeof e?e:1].concat(Array.prototype.slice.call(arguments,2))),t},enter:CORE.PIPE(function(t,e){if("number"!=typeof e||NaN===e)return[];for(var n=[],r=CORE.AS_ARRAY(t),i=0,o=e<r.length?e:r.length;o>i;i++)n.push(r[i]);return n},2),exit:CORE.PIPE(function(t,e){if("number"!=typeof e||NaN===e)return[];for(var n=[],r=CORE.AS_ARRAY(t),i=0>e?0:e,o=r.length;o>i;i++)n.push(r[i]);return n},2),unique:CORE.PIPE(function(){for(var t=[],e=0,n=arguments.length;n>e;e++)for(var r=CORE.NEW_ARRAY(arguments[e]),i=0,o=r.length;o>i;i++){for(var u=!0,s=0,a=t.length;a>s;s++)if(r[i]==t[s]){u=!1;break}1==u&&t.push(r[i]);
}return t},1),trackBy:CORE.PIPE(function(t){var e=[],n={};for(var r in t)if("object"==typeof t[r])for(var i=0,o=Object.keys(t[r]),u=o.length;u>i;i++)e.push(o[i]);else console.warn("nd::trackBy not support primitive value",t,t[r]);for(var i=0,e=N.unique.BOOST(e),u=e.length;u>i;i++){var s=e[i],a=[];for(var r in t)a.push(t[r][s]);n[s]=a}return n},1),groupBy:CORE.PIPE(function(t,e){var n={};if("function"==typeof e)for(var r=0,i=t.length;i>r;r++){var o=e(t[r]);("string"==typeof o||"number"==typeof o)&&(n[o]=n[o]||[],n[o].push(t[r]))}if("string"==typeof e||"number"==typeof e)for(var r=0,i=t.length;i>r;r++)if("object"==typeof t[r]&&t[r].hasOwnProperty(e)){var o=t[r][e];n[o]||(n[o]=[]),n[o].push(t[r])}return n},2),forEach:CORE.PIPE(function(t,e,n){for(var r=CORE.AS_ARRAY(t),i=0,o=r.length;o>i;i++)if(0==n(e[r[i]],r[i]))return!1;return e},3),forMap:CORE.PIPE(function(t,e,n){var r=CORE.AS_ARRAY(t),i=[];CORE.AS_ARRAY(e);if("function"==typeof n)for(var o=0,u=r.length;u>o;o++)i.push(n.call(e[r[o]],e[r[o]],r[o]));else if("string"==typeof n||"number"==typeof n)for(var o=0,u=r.length;u>o;o++)i.push(N.from.BOOST(e[r[o]],r[o]));return i},3),forInject:CORE.PIPE(function(t,e,n,r){for(var i=CORE.AS_ARRAY(t),o=r||e||{},u=0,s=i.length;s>u;u++)o[i[u]]=n.call(e[i[u]],e[i[u]],i[u]);return o},3),forOnly:CORE.PIPE(function(t,e){for(var n=CORE.AS_ARRAY(t),r={},i=0,o=n.length;o>i;i++)r[n[i]]=e[n[i]];return r},2),forDeleteOf:CORE.PIPE(function(t,e){for(var n=CORE.AS_ARRAY(t),r=0,i=n.length;i>r;r++)delete e[n[r]];return e},2),equal:function(t,e){var n=typeof t;if(n===typeof e){if("object"===n){var r=CORE.TYPEOF.LIKEARRAY(t);if(r===CORE.TYPEOF.LIKEARRAY(e)){if(r){if(t.length===e.length){for(var i=!0,o=0,u=t.length;u>o;o++)if(t[o]!==e[o]){i=!1;break}return i}return!1}for(var s=N.flatten(N.propKey(t),N.propKey(e),N.unique),i=!0,o=0,u=s.length;u>o;o++)if(t[s[o]]!==e[s[o]]){i=!1;break}return i}return!1}return t===e}return!1},equalUnique:function(){for(var t=[],e=0,n=arguments.length;n>e;e++)for(var r=CORE.NEW_ARRAY(arguments[e]),i=0,o=r.length;o>i;i++){for(var u=!0,s=0,a=t.length;a>s;s++)if(N.equal(r[i],t[s])){u=!1;break}1==u&&t.push(r[i])}return t},keys:CORE.PIPE(function(t){return Object.keys(t)},1),index:function(t,e){var n=CORE.AS_ARRAY(t);if("function"==typeof e){for(var r in n)if(1==e(n[r],r))return CORE.NUMBER.NUMBER(r)}else for(var r in n)if(e==n[r])return CORE.NUMBER.NUMBER(r)},flatten:CORE.PIPE(function(){return N.argumentsFlatten(arguments)},1),argumentsFlatten:function(){function t(n){N.each(n,function(n){return CORE.TYPEOF.LIKEARRAY(n)?N.each(n,t):void e.push(n)})}var e=[];return t(arguments),e},APPLY:function(t,e,n){return"function"==typeof t?(n=CORE.NEW_ARRAY(n),n.length>0?t.apply(e,n):t.call(e)):void 0},FLATTENCALL:function(t,e){return N.APPLY(t,e,N.argumentsFlatten(Array.prototype.slice.call(arguments,2)))},CALL:function(t,e){return"function"==typeof t?arguments.length>2?t.apply(e,Array.prototype.slice.call(arguments,2)):t.call(e):void 0},CALLBACK:function(t,e){return"function"==typeof t?arguments.length>2?t.apply(e,Array.prototype.slice.call(arguments,2)):t.call(e):t},arrays:function(t){t=CORE.NUMBER.NUMBER(t);for(var e=[],n=0;t>n;n++)e.push([]);return e},indexAsReverse:CORE.INDEX.REVERSE,indexAsTurn:CORE.INDEX.TURN,indexAsBounce:CORE.INDEX.BOUNCE}),N.DATAKIT.EACH_TO_METHOD(),N.METHOD("when",CORE.PIPE(function(t,e){return"object"==typeof e&&e.hasOwnProperty(t)?CORE.RECALL(e[t],t):CORE.CALLFOR(def,t)},2)),N.METHOD("resolver",function(t,e){if("function"==typeof t&&"object"==typeof e){var n,r=N.dummy(function(){},e);return function(){var e=Array.prototype.slice.call(arguments),i=t.apply(r,e);return"string"!=typeof i&&"number"!=typeof i||n===i?void(null===i&&(n=i)):(n=i,"function"==typeof r[i]?r[i].apply(r,e):r[i])}}}),N.SINGLETON("PROPKIT",{isModule:IS_MODULE,isProp:function(t){return"object"==typeof t||"function"==typeof t},propLength:function(t){var e=0;if("object"==typeof t||"function"==typeof t)for(var n in t)e++;return e},clone:CORE.CLONE,diffKeys:function(t,e){return"object"==typeof t&&"object"==typeof e?N.filter(N.flatten(N.propKey(t),N.propKey(e),N.unique),function(n){return t[n]!==e[n]?!0:void 0}):null},propEach:CORE.PIPE(function(t,e){if(N.isProp(t))for(k in t)if(e(t[k],k)===!1)break;return t},2),propMap:CORE.PIPE(function(t,e){var n={};for(var r in t)n[r]=e(t[r],r);return n},2),propMapOf:CORE.PIPE(function(t,e){for(var n in t)t[n]=e(t[n],n);return t},2),propChange:CORE.PIPE(function(t,e,n){return N.isProp(t)&&"string"==typeof e&&"string"==typeof n&&(t[n]=t[e],delete t[e]),t}),propKey:CORE.PIPE(function(t,e,n){var r=[];if("string"==typeof e)(e in t||n===!0)&&r.push(e);else if(CORE.TYPEOF.LIKEARRAY(e))if(n===!0)for(var i=0,o=e.length;o>i;i++)"string"==typeof e[i]&&r.push(e[i]);else for(var i=0,o=e.length;o>i;i++)e[i]in t&&r.push(e[i]);else if(e instanceof RegExp){var r=[];N.propEach(t,function(t,n){e.test(n)&&r.push(n)})}else{var r=[];N.propEach(t,function(t,e){r.push(e)})}return r},1),numbers:CORE.NUMBER.NUMBERS}),N.PROPKIT.EACH_TO_METHOD(),N.SINGLETON("TIMEKIT",{cron:function(t){return new CORE.NDCRON(t)},parseDate:function(t,e,n){CORE.TYPEOF.LIKEARRAY(t)&&(t=t.join(" "));var r=/(\d\d\d\d|)[^\d]?(\d\d|\d|).?(\d\d|\d|)[^\d]?(\d\d|\d|)[^\d]?(\d\d|\d|)[^\d]?(\d\d|\d|)/.exec(t);r[1]=r[1]||(new Date).getYear()+1900+"",r[2]=r[2]||(new Date).getMonth()+1,r[3]=r[3]||(new Date).getDate(),r[4]=r[4]||"00",r[5]=r[5]||"00",r[6]=r[6]||"00";var i=[r[1],r[2],r[3],r[4],r[5],r[6],r[0]];return i.year=r[1],i.month=r[2],i.date=r[3],i.hour=r[4],i.minute=r[5],i.second=r[6],i.init=r[7],i.format=function(t){return t.replace("YYYY",i.year).replace(/(MM|M)/,i.month).replace(/(DD|D)/,i.date).replace(/(hh|h)/,i.hour).replace(/(mm|m)/,i.minute).replace(/(ss|s)/,i.second).replace(/(A)/,CORE.NUMBER.NUMBER(i.hour)>12?"PM":"AM")},"string"==typeof e?i.format(e):i},timeStamp:function(t){return 0===arguments.length?+new Date:("string"==typeof t&&(t=N.parseDate(t)),"number"==typeof t?t:(CORE.TYPEOF.LIKEARRAY(t)&&7==t.length&&(t=new Date(t[0],t[1],t[2],t[3],t[4],t[5])),t instanceof Date?+t:0))},parseTimeScale:CORE.PIPE(function(t,e){var n=~~t,r={string:[]};return N.each(CORE.KNOWN.TIMESCALE,function(t){var e=~~(n/t.scale);e>0&&(r[t.key]=e,r.string.push(e+t.key),n-=e*t.scale)}),r.string.length||(r.string=["0ms"],r.ms=0),1==e?r:r.string.join(" ")},1),timeScale:function(t,e){var n=0;if("number"==typeof t&&"undefined"==typeof e)return t;if("string"==typeof t||"number"==typeof t){if(t+="","string"==typeof e){var r=N.index(CORE.KNOWN.TIMEPERIOD,function(t){return N.has(t,e)});if("number"==typeof r){var i=[];t.replace(/\d+/g,function(t){i.push(~~t)});for(var o=0,u=i,s=u.length;s>o;o++)u[o]=u[o]+CORE.KNOWN.TIMEPERIOD[o+r][0];t=i.join(" ")}}t=t.replace(/\d+(Y|year)/,function(t){return t.replace(/\d+/,function(t){n+=31536e6*t}),""}),t=t.replace(/\d+(M|month)/,function(t){return t.replace(/\d+/,function(t){n+=26784e5*t}),""}),t=t.replace(/\d+(D|day)/,function(t){return t.replace(/\d+/,function(t){n+=864e5*t}),""}),t=t.replace(/\d+(H|h|hour)/,function(t){return t.replace(/\d+/,function(t){n+=36e5*t}),""}),t=t.replace(/\d+(ms|millisecond)/,function(t){return t.replace(/\d+/,function(t){n+=1*t}),""}),t=t.replace(/\d+(m|minute)/,function(t){return t.replace(/\d+/,function(t){n+=6e4*t}),""}),t=t.replace(/\d+(s|second)/,function(t){return t.replace(/\d+/,function(t){n+=1e3*t}),""})}return n}}),N.TIMEKIT.EACH_TO_METHOD(),N.SINGLETON("PRIMITIVEKIT",{decimalValue:function(t){var e=N.numbers(t)[0]+"";if(e.length<4)return e;var n="",r=0;return e.split("").reverse().join("").replace(/./g,function(t){n=r%3===2?","+t+n:t+n,r++}),n.replace(/^\,/,"")},parseFloat:function(t,e){var n=N.numbers(t),r="number"==typeof e?("."+n[1]).substr(0,e+1):"."+n[1];return 1*(n[0]+r)},fillLeft:function(t,e,n){if("number"!=typeof e)return value;"string"!=typeof n&&(n=" ");for(var r="",i=e-(t+"").length,o=0,u=i>0?i:0;u>o;o++)r+=n;return r+t},padLeft:function(t,e,n){if("number"!=typeof e)return t;for(var r="",i=N.numbers(t),o=e-(i[0]+"").length,u=0,s=o>0?o:0;s>u;u++)r+="0";return r+(n!==!1&&i[2]?i[0]+"."+i[1]:i[0])},padRight:function(t,e){if("number"==typeof e){var n=N.numbers(t),r=n[0];if(0===Math.floor(e))return n[0]+"";for(var i=(n[1]+"").substr(0,e),o=0,u=e-i.length;u>o;i+="0",o++);return r+"."+i}return N.parseFloat(t)+""},parseInt:function(t){return N.numbers(t)[0]},parseHigh:function(t){for(var e=Number.NEGATIVE_INFINITY,n=N.argumentsFlatten(arguments),r=0,i=n.length;i>r;r++){var o=N.parseFloat(n[r]);o>e&&(e=o)}return e===Number.NEGATIVE_INFINITY?0:e},parseLow:function(t){for(var e=Number.POSITIVE_INFINITY,n=N.argumentsFlatten(arguments),r=0,i=n.length;i>r;r++){var o=N.parseFloat(n[r]);e>o&&(e=o)}return e===Number.POSITIVE_INFINITY?0:e},toString:function(t,e,n){switch(typeof t){case"string":return 1==n?'"'+(t+"")+'"':t+"";case"number":return t+"";case"object":if("undefined"==typeof e&&(e=10),1>e)return"...";if(null==t)return 1==n?'"null"':"null";if(CORE.TYPEOF.ELEMENT(t)){if(t==document)return'"[document]"';var r=t.tagName.toLowerCase(),i=N.isNothing(t.id)?"":"#"+t.id,o=N.isNothing(t.className)?"":"."+t.className.split(" ").join(".");return 1==n?'"'+r+i+o+'"':r+i+o}if(N.isTextNode(t))return"#text "+t.textContent;if(CORE.TYPEOF.LIKEARRAY(t)){for(var u=[],s=0,a=t.length;a>s;s++)u.push(N.toString(t[s],e-1,n));return"["+(1==n?u.join(","):u.join(", "))+"]"}if(t.jquery){var u=N.map(t,function(t){N.toString(t)}).join(", ");return 1==n?'"$['+u+']"':"$["+u+"]"}var f=[];for(var c in t)f.push((1==n?'"'+c+'"':c)+":"+N.toString(t[c],e-1,n));return"{"+(1==n?f.join(","):f.join(", "))+"}";case"boolean":return 1==n?t?'"true"':'"false"':t?"true":"false";case"undefined":return 1==n?'"undefined"':"undefined";default:return"toString"in t?1==n?'"'+t.toString()+'"':t.toString():1==n?'"[typeof '+typeof t+']"':"[typeof "+typeof t+"]"}},tos:function(t,e){return N.toString(t,9,e)},max:function(t,e,n){if("string"==typeof t){if(e=isNaN(e)?100:parseInt(e),n="string"==typeof n?n:"...",t.length>e)return t.substr(0,e)+n}else CORE.TYPEOF.LIKEARRAY(t)&&t.length>e&&(t.length=e);return t},byteSize:function(t){return unescape(escape(t).replace(/%u..../g,function(t){return"  "})).length}}),N.PRIMITIVEKIT.EACH_TO_METHOD()}(window,[],{},{},N,CORE),function(t){window.nd=N,"function"==typeof define&&"object"==typeof define.amd&&define.amd&&define(function(){return N})}(window),function(N,CORE){N.SINGLETON("TOKENKIT",{CASE_SPLIT:function(t,e){if("string"==typeof e)return t.split(e);if("string"!=typeof t)return console.error("CASE_SPLIT::\uccab\ubc88\uc9f8 \ud30c\ub77c\uba54\ud130\ub294 \ubc18\ub4dc\uc2dc String\uc774\uc5ec\uc57c \ud569\ub2c8\ub2e4. // s =>",t);t=t.replace(/^\#/,"");var n=t.split("-");if(n.length>1)return n;var r=t.split("_");return r.length>1?r:t.replace(/[A-Z][a-z]/g,function(t){return"%@"+t}).replace(/^\%\@/,"").split("%@")},pascalCase:CORE.PIPE(function(t){for(var e=N.CASE_SPLIT(t),n=0,r=e.length;r>n;n++)e[n]=e[n].charAt(0).toUpperCase()+e[n].slice(1).toLowerCase();return e.join("")},1),camelCase:CORE.PIPE(function(t){for(var e=N.CASE_SPLIT(t),n=1,r=e.length;r>n;n++)e[n]=e[n].charAt(0).toUpperCase()+e[n].slice(1).toLowerCase();return e[0]=e[0].toLowerCase(),e.join("")},1),snakeCase:CORE.PIPE(function(t){for(var e=N.CASE_SPLIT(t),n=0,r=e.length;r>n;n++)e[n]=e[n].toLowerCase();return e.join("_")},1),kebabCase:CORE.PIPE(function(t){for(var e=N.CASE_SPLIT(t),n=0,r=e.length;r>n;n++)e[n]=e[n].toLowerCase();return e.join("-")},1),split:CORE.PIPE(function(t,e){return t.split("",e)},1),hasToken:CORE.PIPE(function(t,e,n){return N.has(t.split(n||" "),e)},1),addToken:CORE.PIPE(function(t,e,n){return N.hasToken.BOOST(t,e,n)?t:t+(n||" ")+e},1),removeToken:CORE.PIPE(function(t,e,n){console.warn("todo")},1)}),N.TOKENKIT.EACH_TO_METHOD(),N.SINGLETON("ADVKIT",{scalef:function(t,e,n){return("number"==typeof e?e:100)/("number"==typeof n?n:100)*t},scale:function(t,e,n){return Math.round(N.ADVKIT.scalef(t,e,n))},ratiof:function(t){var e=N.argumentsFlatten(arguments),n=0,t=CORE.NUMBER.NUMBER(e.shift())||100;return N.map(e,function(t){var e=CORE.NUMBER.NUMBER(t);return n+=e,e},N.arrayMap,function(e){return e/n*t})},ratio:function(t){var e=CORE.NUMBER.NUMBER(t),n=N.arrayMap(N.ADVKIT.ratiof.apply(this,Array.prototype.slice.call(arguments)),function(t){var n=Math.round(t);return e-=n,n});return 0!==e&&(n[n.length-1]+=e),n},arcPointf:function(t,e){t=N.parseFloat(t),e=N.parseFloat(e);var n=(360-e)*Math.PI/180;return[t-t*Math.sin(n),t-t*Math.cos(n)]},arcPoint:function(t,e){return N.arrayMap(N.arcPointf(t,e),function(t){return Math.round(t)})},toPx:function(t){return/(\%|px)$/.test(t)?t:CORE.NUMBER.NUMBER(t)+"px"},isWrap:function(t,e){if("string"==typeof t){t=t.trim(),e="undefined"!=typeof e?CORE.AS_ARRAY(e):['""',"''","{}","[]"];for(var n=0,r=e.length;r>n;n++){var i=e[n].substr(0,e[n].length-1),o=e[n].substr(e[n].length-1);if(0==t.indexOf(i)&&t.substr(t.length-1)==o)return!0}}return!1},unwrap:function(t,e){if("string"==typeof t){t=t.trim(),e="undefined"!=typeof e?CORE.AS_ARRAY(e):['""',"''","{}","[]","<>"];for(var n=0,r=e.length;r>n;n++)if(N.isWrap(t,e[n]))return t.substring(e[n].substr(0,e[n].length-1).length,t.length-1)}return t},wrap:function(t,e){return N.isWrap(t,e)?t:(t="string"==typeof t?t.trim():"",e="string"==typeof e&&e.length>1?e:'""',e.substr(0,e.length-1)+t+e.substr(e.length-1))},DQURT:function(t){return"string"==typeof t?N.isWrap(t,'""')?t:'"'+N.unwrap(t,"''")+'"':t},SQURT:function(t){return"string"==typeof t?N.isWrap(t,"''")?t:"'"+N.unwrap(t,'""')+"'":t},indexes:function(t,e){if("string"==typeof t||"number"==typeof t){var n,r=[],i=t+"",e=e+"",o=0;do{var u=i.indexOf(e,o);u>-1?(o=e.length+u,r.push(o-e.length),n=!0):n=!1}while(n);return r}},safeSplitIndexes:function(t,e,n){if("string"==typeof t&&CORE.TYPEOF.LIKEARRAY(e)){var r=CORE.CLONE(e);r.push(t.length);var i=[],o=0;if(1==n)for(var u=0,s=r.length;s>u;u++)u&&(i.push(t.substring(o-1,r[u])),o=r[u]+1);else for(var u=0,s=r.length;s>u;u++)i.push(t.substring(o,r[u])),o=r[u]+1;return i}},simpleRange:function(t){if(t){var e=[];e.length=t.length;for(var n=0,r=t.length;r>n;n++)for(var i=0,o=t.length;o>i;i++)n!==i&&t[n][0]<t[i][0]&&t[n][1]>t[i][1]&&(e[i]=!1);for(var u=[],s=0,a=e.length;a>s;s++)e[s]!==!1&&u.push(t[s]);return u}},indexesRange:function(t,e){if(CORE.TYPEOF.LIKEARRAY(t)&&CORE.TYPEOF.LIKEARRAY(e)){var n,r=[],i=[],o=0,u=0;do{var s=t[o],a=e[u];"undefined"==typeof s&&"undefined"==typeof a?n=!1:("undefined"==typeof a||a>s?(r.push(!0),i.push(s),o++):(r.push(!1),i.push(a),u++),n=!0)}while(n);for(var f=[],c=[],h=[],p=0,l=r.length;l>p;p++){var E=r[p],N=r[p+1];if(E)c.push(i[p]);else if(h.push(i[p]),h.length>=c.length&&(1==N||"undefined"==typeof N))for(var y=0,g=h.length;g>y;y++){if(0==c.length){h.length=0;break}f.push([c.shift(),h[h.length-1]]),h.length=h.length-1}}return f}if(CORE.TYPEOF.LIKEARRAY(t)&&"undefined"==typeof e){for(var f=[],R=[],p=0,l=t.length;l>p;p++)R.push(t[p]),R.length>1&&f.push(R);return f}console.warn("N.indexesRange::\ub450\ubc88\uc9f8\uae4c\uc9c0 \ud30c\ub77c\uba54\ud130\ub294 array\uc5ec\uc57c \ud569\ub2c8\ub2e4.",t,e)},safeSplit:function(t,e,n,r){if("string"==typeof t){("string"!=typeof e||0==e.length)&&(e=","),e.length>1&&(console.wran("N.safeSplit:: \ub450\ubc88\uc9f8 \ud30c\ub77c\uba54\ud130\ub294 1\uae00\uc790\ub9cc \uc9c0\uc6d0\ud569\ub2c8\ub2e4. => ",e),e=e.substr(0,1)),n="undefined"!=typeof n?CORE.AS_ARRAY(n):["{}","[]"],t=N.unwrap(t,n);for(var i=[],o=0,u=n.length;u>o;o++){var s=n[o].substr(0,n[o].length-1),a=n[o].substr(n[o].length-1),f=N.indexes(t,s);if(s==a)i=i.concat(N.indexesRange(f));else{var c=N.indexes(t,a);i=i.concat(N.indexesRange(f,c))}}i=N.simpleRange(i);for(var h=N.indexes(t,e),p=[],l=0,E=h.length;E>l;l++){for(var y=h[l],g=!0,R=0,O=i.length;O>R;R++)if(y>i[R][0]&&y<i[R][1]){g=!1;break}1==g&&p.push(y)}return N.safeSplitIndexes(t,p,r)}},dataClip:CORE.PIPE(function(t,e,n){var r=CORE.NEW_ARRAY(t);return"number"!=typeof e||r.length===e?r:r.length>e?Array.prototype.slice.call(r,0,e):(N.times(e-r.length,function(){r.push(n)}),r)},2),dataRepeat:CORE.PIPE(function(t,e){var n=CORE.NEW_ARRAY(t);return"number"!=typeof e||n.length===e?n:n.length>e?Array.prototype.slice.call(n,0,e):(N.times(e-n.length,function(){n.push(t)}),n)},2),dataTile:function(t,e){var n;switch(typeof t){case"string":case"number":n=t;break;case"object":if(!CORE.TYPEOF.LIKEARRAY(t))return console.warn("N.dataTile::Array\ub9cc \uac00\ub2a5\ud569\ub2c8\ub2e4."),t;n=t}if("undefined"!=typeof n){var r,i=N.toLength(t),o=CORE.NUMBER.NUMBER(e,i);switch(typeof n){case"string":r="";for(var u=0;o>u;u++)r+=t[N.indexAsTurn(u,i)];return r;case"number":var s=[];(t+"").replace(/\d/g,function(t){s.join(1*t)}),r=0;for(var u=0;o>u;u++)r+=s[N.indexAsTurn(u,i)];return r;case"object":r=[];for(var u=0;o>u;u++)r.push(t[N.indexAsTurn(u,i)]);return r}}},"Structure#StringNumberInfo":function(t){var e=/([\D]*)(([\d\,]+|)+(\.[\d]+|))([\D]*)/.exec(t),n=/([0]*)(.*)/.exec(e[2]);n[1].length&&!n[2].length&&(n[1]=n[1].substr(0,n[1].length-1),e[2]="0",e[3]="0"),"-"==e[1].charAt(e[1].length-1)&&e[2].length&&(e[1]=e[1].substr(0,e[1].length-1),e[2]="-"+e[2],e[3]="-"+e[3]),n[1].length&&(e[2]=n[2],e[3]=n[2]),e[2]=e[2].replace(/\,/g,""),e[3]=e[3].replace(/\,/g,""),this.Source.prefix=e[1],this.Source.prefixZero=n[1],this.Source.number=e[2],this.Source.integer=e[3],this.Source["float"]=e[4],this.Source.suffix=e[5],this.fixNumberInfo=function(){return"floatValue"in this.Source||(this.Source.floatValue=""!==this["float"]?"0"+this.Source["float"]:"0",""==this.Source.integer&&(this.Source.integer="0"),""==this.Source["float"]&&(this.Source["float"]="0"),""==this.Source.number&&(this.Source.number="0")),this}},textNumber:function(t){if("string"==typeof t){var e=new StringNumberInfo(t).get();if(e.prefix||e.prefixZero||e.suffix)return t}return CORE.NUMBER.NUMBER(t)},cursor:function(t,e,n){return new CORE.NDCURSOR(t,e,n)},domain:function(t,e){return new CORE.NDDOMAIN(t,e)},zone:function(t,e){return new CORE.NDZONE(t,e)},zoneRange:function(t){var e=/^([^\~]*)\~(.*)$/.exec(t);if(e){var n=new StringNumberInfo(e[1]).get(),r=new StringNumberInfo(e[2]).get(),i=n.prefix,o=n.prefixZero?n.prefixZero.length+n.integer.length:0,u=CORE.NUMBER.NUMBER(n.number),s=CORE.NUMBER.NUMBER(r.number),a=0;return a=u>s?s+Math.floor(Math.random()*(u-s+1)):u+Math.floor(Math.random()*(s-u+1)),o>0&&(renVal=CORE.NUMBER.NUMBER(a),renLen=CORE.NUMBER.NUMBER(o),a=renLen?(renVal+Math.pow(10,renLen)+"").substr(1):renVal),i?i+a:a}return N.textNumber(t)},zoneChoice:function(t,e){if(CORE.TYPEOF.LIKEARRAY(t))return t[Math.floor(Math.random()*t.length)];var n=N.cache.get("N.zoneChoice",t+e);if(n)return n[Math.floor(Math.random()*n.length)];var r=t.split("string"==typeof e?e:"|");return N.cache.set("N.zoneChoice",t+e,r),r[Math.floor(Math.random()*r.length)]},zoneInfo:function(t){t=N.toString(t);var e,n,r=0==t.indexOf("\\!")?"fixed":0==t.indexOf("\\?")?"mutable":"plain";return"plain"!=r?(t=t.substr(2),/\d+\~\d+/.test(t)?(n="range",e="fixed"==r?N.zoneRange(t):t):t.indexOf("|")>-1?(n="choice",e="fixed"==r?N.zoneChoice(t):t):(console.error("setZoneParams:: \uc54c\uc218\uc5c6\ub294 \uba85\ub839\uc5b4 \uc785\ub2c8\ub2e4 ->",t),e=t)):e=t,{value:e,type:r,mutableType:n}},zoneValue:function(t){switch(t.type){case"fixed":case"plain":return t.value;case"mutable":switch(t.mutableType){case"range":return N.zoneRange(t.value);case"choice":return N.zoneChoice(t.value)}}}}),N.ADVKIT.EACH_TO_METHOD(),N.METHOD("exp",function(source){var $seed=this.$seed||0,$names=this.$names||[],aPoint=[],params=N.map(Array.prototype.slice.call(arguments,1),function(t){return N.zoneInfo(t)});return source.replace(/(\\\([^\)]*\)|\\\{[^\}]*\})/g,function(s){if(")"==s[s.length-1]){var dv=N.zoneValue(N.zoneInfo("\\!"+s.substring(2,s.length-1)));return aPoint.push(dv),dv}var evs=s.substring(2,s.length-1).replace(/\$i/g,function(t){return $seed}).replace(/\&\d+/g,function(t){var e=aPoint[parseInt(t.substr(1))];return N.likeNumber(e)?1*e:'"'+e+'"'}).replace(/\$\d+/g,function(t){var e=params[parseInt(t.substr(1))];return e?(e=N.zoneValue(e),N.likeNumber(e)?e:'"'+e+'"'):void 0}).replace(/\$\w+/g,function(t){for(var e,n=t.substr(1),r=0,i=$names.length;i>r;r++)if($names[r]===n){e=params[r];break}return e?(e=N.zoneValue(e),N.likeNumber(e)?e:'"'+e+'"'):void 0}),v=eval(evs);return aPoint.push(v),v})},{seed:function(t){this.$seed=CORE.NUMBER.NUMBER(t)},names:function(){this.$names=Array.prototype.slice.call(arguments)}}),N.METHOD("dataExp",CORE.PIPE(function(t,e){return N.exp.apply(void 0,[e].concat(CORE.AS_ARRAY(t)))},2)),N.METHOD("propExp",CORE.PIPE(function(t,e){var n=[],r=[];return N.propEach.BOOST(t,function(t,e){n.push(e),r.push(t)}),nd.exp.names.apply(void 0,n).call.apply(void 0,[e].concat(r))},2)),N.METHOD("expn",function(t){if(1===arguments.length)return CORE.NUMBER.NUMBER(N.exp.call(void 0,"\\("+t+")"));var e=Array.prototype.slice.call(arguments);return e[0]="\\{"+e[0]+"}",CORE.NUMBER.NUMBER(N.exp.apply(void 0,e))}),N.ARRAY_MODULE("Array",{each:function(t){for(var e=0,n=this.length;n>e&&0!=t(this[e],e);e++);return this},reverseEach:function(t){for(var e=this.length-1;e>-1&&0!=t(this[e],e);e--);return this},keys:function(t){return N.propKey(this,t)},zero:function(){return N.get(this,0)},first:function(){return N.get(this,0)},last:function(){return N.last(this)},from:function(t){return this[t]},has:function(t){for(var e=0,n=this.length;n>e;e++)if(this[e]===t)return!0;return!1},push:function(t,e){switch(typeof e){case"string":case"number":this[e]=t;break;default:Array.prototype.push.call(this,t)}return this},add:function(t,e){return this.has(t)||this.push(t,e),this},marge:function(t){var e=this;return N.each(t,function(t){e.add(t)}),this},setSource:function(t){return CORE.TYPEOF.LIKEARRAY(t)?("toArray"in t?Array.prototype.splice.apply(this,[0,this.length].concat(t.toArray())):Array.prototype.splice.apply(this,[0,this.length].concat(Array.prototype.slice.call(t))),this):(t||0==t?Array.prototype.splice.call(this,0,this.length,t):Array.prototype.splice.call(this,0,this.length),this)},isNone:function(){return 0===this.length?!0:!1},isOne:function(){return 1===this.length?!0:!1},isMany:function(){return this.length>1?!0:!1},isOk:function(){return this.length>0?!0:!1},isNok:function(){return 0===this.length?!0:!1},selectValue:function(t){var e=[];N.each(this,function(n){n==t&&e.push(n)}),this.setSource(e)},selectIndex:function(t){return this.setSource(this[t])},selectFirst:function(){return this.setSource(this[0])},selectLast:function(){return this.setSource(this[this.length-1])},max:function(t){return this.length=t>this.length?this.length:t,this},min:function(t,e){var n=parseInt(t);if("number"==typeof n&&this.length<n)for(var r=this.length;n>r;r++)this.push(e);return this},insert:function(t,e){return N.insert(this,t,e),this},toArray:function(){return Array.prototype.slice.call(this)},clear:function(){return this.splice(0,this.length),this},clone:function(){return new N.Array(this)},sort:function(t){if("function"!=typeof t)return Array.prototype.sort.call(new N.Array(this));if(0==this.length)return this.toArray();for(var e=new N.Array([this[0]]),n=1,r=this.length;r>n;n++)for(var i=0,o=e.length;o>i;i++){if(t(this[n],e[i])===!0){e.insert(this[n],i);break}i+1===e.length&&e.push(this[n])}return e},setSort:function(t){return"function"!=typeof t?Array.prototype.sort.call(this):this.setSource(this.sortFilter(t))},callback:function(t){return"function"==typeof t?t.call(this,this):void 0},behind:function(t,e){return this.insert(t,this.length-(isNaN(e)?0:parseInt(e)))},overwrite:function(t,e){return this.min(e+1),this[e]=t,this},save:function(t){return this.__NativeInitializer__(this)},flatten:function(){return new N.Array(N.argumentsFlatten(this))},setFlatten:function(){return this.setSource(this.flatten())},concat:function(){return new N.Array(arguments).inject(this.save(),function(t,e){new N.Array(t).each(function(t){e.push(t)})})},setConcat:function(){return this.setSource(this.concat.apply(this,arguments))},append:function(t){if(void 0===t||null===t)return this;if(!CORE.TYPEOF.LIKEARRAY(t))return this.push(t);for(var e=0,n=t.length;n>e;e++)this.push(t[e]);return this},prepend:function(t){if(void 0===t||null===t)return this;if(!CORE.TYPEOF.LIKEARRAY(t))return this.insert(t,0);for(var e=0,n=t.length;n>e;e++)this.insert(t[e],e);return this},changeIndex:function(t,e){var n=this[t],r=this[e];this[t]=r,this[e]=n},inject:function(t,e){for(var n=0,r=this.length;r>n;n++){var i=e(this[n],t,n);"undefined"!=typeof i&&(t=i)}return t},map:function(t){return new N.Array(N.map(this,t))},setMap:function(t){return N.arrayMap(this,t)},turning:function(t,e){for(var n=parseInt(t),r=function(t){if(0>t){var e=Math.abs(t);t=n-(e>n?e%n:e)}return n>t?t:t%n},i=function(t){return{turning:r(t),group:Math.floor(t/n)}},o=0;o<this.length;o++){var u=i(o);e(this[o],u.turning,u.group,o)}return this},filter:function(t){if("undefined"==typeof t&&(t=function(t){return"undefined"==typeof t?!1:!0}),"function"==typeof t){var e=[];return this.each(function(n,r){1==t(n,r)&&e.push(n)}),new N.Array(e)}return new N.Array},setFilter:function(t){return this.setSource(this.filter(t))},compact:function(){return this.filter(function(t){return void 0==t?!1:!0})},setCompact:function(){return this.setSource(this.compact())},timesmap:function(t,e,n,r){var i=this,o=i.length,u=this.clone(),s="function"==typeof e?e:function(){return e};return N.times(t,function(t){t>=o?u.push(s(i[t],t)):u[t]=s(i[t],t)},n,r),u},setTimesmap:function(t,e,n,r){return this.setSource(this.timesmap(t,e,n,r))},isAll:function(t){for(var e=0,n=this.length;n>e;e++)if(1!=t(this[e],e))return!1;return!0},isAny:function(t){for(var e=0,n=this.length;n>e;e++)if(1==t(this[e],e))return!0;return!1},subarray:function(t,e,n){t=1==isNaN(t)?0:parseInt(t),e=1==isNaN(e)?0:parseInt(e);var r,i,o=new N.Array;t>e?(r=t,i=e):(r=e,i=t),n!==!0&&(r=r<this.length?r:this.length,i=i>0?i:0);for(var u=i,s=r;s>u;u++)o.push(this[u]);return o},setSubarray:function(){return this.setSource(this.subarray.apply(this,arguments))},subarr:function(t,e){return this.subarray(t,e?e+t:this.length)},setSubarr:function(t,e){return this.setSource(this.subarr(t,e))},drop:function(t){return t=t?t:0,this.subarray(t).concat(this.subarr(t+1))},setDrop:function(t){return this.setSource(this.drop(t))},getRemove:function(t){return this.filter(function(e){return e==t?!1:!0})},remove:function(t){return this.setSource(this.getRemove(t))},unique:function(){var t=new N.Array;return this.each(function(e){t.isAll(function(t){return e!=t})&&t.push(e)}),t},setUnique:function(){return this.setSource(this.unique())},has:function(t){return this.isAny(function(e){return e==t})},eq:function(t,e){return isNaN(e)&&(e=1),this.subarr(t,e)},indexOf:function(t){var e=-1;return this.each(function(n,r){return n==t?(e=r,!1):void 0}),e},lastIndexOf:function(t){var e=-1;return this.reverseEach(function(n,r){return n==t?(e=r,!1):void 0}),e},nthIndexOf:function(t,e){},firstMatch:function(t){var e;return this.each(function(n,r){return 1==t(n,r)?(e=n,!1):void 0}),e},lastMatch:function(t){var e;return this.reverseEach(function(n,r){return 1==t(n,r)?(e=n,!1):void 0}),e},nthMatch:function(t,e,n){},stringFlatten:function(){return this.save().setMap(function(t){return"string"==typeof t?t.split(" "):CORE.TYPEOF.LIKEARRAY(t)?new N.Array(t).setFlatten().setFilter(function(t){return N.is(t,"string")}):void 0}).remove(void 0).setFlatten()},setStringFlatten:function(){return this.setSource(this.stringFlatten())},sliceGroup:function(){var t=Array.prototype.slice.call(this),e=new N.Array;return N.each(N.filter(N.argumentsFlatten(arguments),function(t){return"number"==typeof t&&t>0}),function(n){return t.length?void e.push(t.splice(0,n)):!1}),t.length&&e.push(t),e},setSliceGroup:function(){this.setSource(this.sliceGroup.apply(this,Array.prototype.slice.call(arguments)))},groups:function(t,e){var n=[];return 1==e?(this.save().reverse().turning(t,function(t,e,r){n[r]||(n[r]=[]),n[r].push(t)}),new N.Array(n).setMap(function(t){return new N.Array(t).reverse().toArray()}).reverse()):(this.turning(t,function(t,e,r){n[r]||(n[r]=[]),n[r].push(t)}),new N.Array(n))},setGroups:function(t,e){return this.setSource(this.groups(t,e))},random:function(t){return new N.Array(N.attract(this.toArray()))},shuffle:function(){return new N.Array(N.dataShuffle(this.toArray()))},setShuffle:function(){return this.setSource(this.shuffle())},join:function(t,e,n){return(N.likeString(e)?e:"")+Array.prototype.join.call(this,t)+(N.likeString(n)?n:"")},keyPair:function(t,e){N.likeString(t)||(t="key"),N.likeString(e)||(e="value");var n={};return this.each(function(r){return("object"==typeof r||"function"==typeof r)&&t in r?(n[r[t]]=r[e],n):void 0}),n}}),N.MODULE("HashSource",{setSource:function(t,e){if(t=N.asObject(t,e),"object"==typeof t){for(var n in this.Source)delete this.Source[n];for(var e in t)this.Source[e]=t[e]}return this},keys:function(t,e){return N.propKey(this.Source,t,e)},values:function(){var t=[];if(arguments.length)for(var e=0,n=arguments.length;n>e;e++){if("function"==typeof arguments[e])return arguments[e].apply(void 0,t);t.push(this.Source[arguments[e]])}else for(key in this.Source)t.push(this.Source[key]);return t},each:function(t){for(key in this.Source){var e=t(this.Source[key],key);if(0==typeof e)break}return this},reverseEach:function(t){for(var e=this.keys(),n=e.length-1;n>-1&&0!=t(e[n],n);n--);return this},callback:function(t){"function"==typeof t&&this.call(this,this.Source)},count:function(){return N.propLength(this.Source)},clone:function(){return CORE.CLONE(this.Source)},save:function(){return this.__NativeInitializer__(CORE.CLONE(this.Source))},pushKeyValue:function(){for(var t=0,e=Math.ceil(arguments.length/2);e>t;t++)this.Source[arguments[2*t]]=arguments[2*t+1];return this},safePushKeyValue:function(){for(var t=0,e=Math.ceil(arguments.length/2);e>t;t++){var n=this.Source[arguments[2*t]];n in this.Source&&(this.Source[n]=arguments[2*t+1])}return this},hasProp:function(t){if(0===arguments.length){for(var e in this.Source)return!0;return!1}return t in this.Source},prop:function(t,e){if(0===arguments.length)return this.Source;if("string"==typeof t)return"function"==typeof e?e.call(this,this.Source[t],t in this.Source):this.Source[t];var n=this;return"function"==typeof e?N.map(t,function(t){return e.call(n,n.Source[t],t in n.Source)}):N.map(t,function(t){return n.Source[t]})},setProp:function(t,e){if(arguments.length<2)console.warn("arguments length must be gt 2");else if("string"==typeof t)this.Source[t]=e;else if("object"==typeof t)for(var n in key)this.setProp(n,key[n]);return this},propIs:function(t,e,n,r){return N.is(this.Source[t],e,n,r)},propLike:function(t,e,n,r){return N.like(this.Source[t],e,n,r)},has:function(t,e){return 2===arguments.length?t in this.Source?this.Source[t]===e:!1:t in this.Source},hasValue:function(t){var e=!1;return this.each(function(n,r){return t==n?(e=!0,!1):void 0}),e},hasDataProp:function(t){return this.Source[t]instanceof N.Array},touchDataProp:function(t){return"string"==typeof t?(this.hasDataProp(t)||(this.Source[t]=new N.Array(this.Source[t])),this.Source[t]):void console.warn("Manage::touchDataProp parameter is must be string",t)},defineDataProp:function(){for(var t=N.argumentsFlatten(arguments),e=0,n=t.length;n>e;e++)this.touchDataProp(t[e]);return this},dataProp:function(t,e){var n=this.touchDataProp(t,!1);return"function"==typeof e?n.map(e):n},pushDataProp:function(t,e,n){if(arguments.length<2)return console.warn("pushDataProp is must be length gt 1");var r=this.touchDataProp(t);return 1==n?N.addOf.BOOST(r,e):N.pushOf.BOOST(r,e),this},extend:function(t){return N.extend(this.Source,t),this},marge:function(t){return N.marge(this.Source,t)},extendOf:function(t){return N.extendOf(this.Source,t),this},margeOf:function(t){return N.margeOf(this.Source,t)},arrangementObjectsDataProp:function(t){for(var e=this.keys(),n=Array.prototype.slice.call(arguments),r=this,i=0,o=arguments.length;o>i;i++)if("object"==typeof n[i])for(var u=Object.keys(n[i]),s=0,o=u.length;o>s;s++)N.has(e,u[s])||e.push(u[s]);for(var i=0,o=n.length;o>i;i++)N.each(e,function(t){r.pushDataProp(t,n[i][t])});return this},setDataPropFix:function(){for(var t in this.Source)N.isModule(this.Source[t],"Array")&&(this.Source[t]=this.Source[t].toArray());return this},getDataPropFix:function(){var t={};for(var e in this.Source)N.isModule(this.Source[e],"Array")?t[e]=this.Source[e].toArray():t[e]=this.Source[e];return t},map:function(t,e){if("function"==typeof t){for(var n=CORE.CLONE(this.Source),r=this.keys(e,!0),i=0,o=r.length;o>i;i++)n[r[i]]=t(this.Source[r[i]],r[i]);return n}},setMap:function(t,e){if("function"==typeof t){for(var n=this.keys(e,!0),r=0,i=n.length;i>r;r++)this.Source[n[r]]=t.call(this,this.Source[n[r]],n[r]);return this}},inject:function(t,e,n){return"function"==typeof e?(this.map(function(n,r){
var i=e(n,t,r);"undefined"!=typeof i&&(t=i)},n),t):void 0},join:function(t,e){return t="string"==typeof t?t:":",e="string"==typeof e?e:",",this.inject([],function(e,n,r){n.push(r+t+N.toString(e))}).join(e)},toParameter:function(t){return this.inject({},function(e,n,r){n[0==t?r:new N.StringSource(r).encode()]=0==t?e:new N.StringSource(e).encode()})},stringify:function(){return JSON.stringify(this.getDataPropFix())},toString:function(){return JSON.stringify(this.getDataPropFix())},change:function(t,e){return N.propChange(this.Source,t,e),this.Source},removeAll:function(){for(var t in this.Source)delete this.Source[t];return this.Source},getRemove:function(){for(var t=this.Source,e=N.flatten(arguments),n=0,r=e.length;r>n;n++)"string"==typeof e[n]&&delete t[e[n]];return this.Source},remove:function(t){return delete this.Source[t],this},concat:function(){for(var t=this.clone(),e=0,n=arguments.length;n>e;e++)new N.HashSource(arguments[e]).each(function(e,n){t[n]=e});return t},setConcat:function(){return this.setSource(this.concat.apply(this,arguments)),this},safeConcat:function(){for(var t=this.clone(),e=0,n=arguments.length;n>e;e++)new N.HashSource(arguments[e]).each(function(e,n){n in t==0&&(t[n]=e)});return t},setSafeConcat:function(){return this.setSource(this.getSafeConcat.apply(this,arguments)),this}},function(t,e,n){"string"==typeof n?(this.Source={},this[n].apply(this,new N.Array(arguments).setSubarr(0,2).toArray())):this.Source=N.asObject(t,e)},function(t){return this.setDataPropFix(),0==arguments.length?this.Source:this.Source[t]});var htmlSafeMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};N.MODULE("StringSource",{encode:function(){return encodeURI(this.Source)},decode:function(){return decodeURI(this.Source)},setEncode:function(){return this.Source=this.encode(),this},setDecode:function(){return this.Source=this.decode(),this},raw:function(){return this.Source},HTMLSafe:function(){return new String(this.Source).replace(/[&<>"'\/]/g,function(t){return htmlSafeMap[t]})},byteSize:function(){return N.byteSize(this.Source)},lines:function(){return Array.split(this.Source,"\n").toArray()},lineEach:function(t,e){return"function"==typeof t?new N.Array(this.lines()).setMap(function(e,n){return t(e,n)}).setCompact().join(e?e:"\n"):void 0},tabSize:function(){var t=/^([\s\t]*)(.*)/.exec(this.Source),e=t[1].replace(/[^\t]*/g,"").length,n=t[1].replace(/[^\s]*/g,"").length-e;return e+Math.floor(n/4)},tabAbsolute:function(t,e){t=CORE.NUMBER.NUMBER(t),arguments.length<2&&(e="	"),0>t&&(t=0);for(var n="",r=0;t>r;r++)n+=e;return n+/^([\s\t]*)(.*)/.exec(this.Source)[2]},tabsOffset:function(t,e){return t=parseInt(t),"number"==typeof t?N.Array.split(this.Source,"\n").setMap(function(n){return new N.StringSource(n).tabAbsolute(new N.StringSource(n).tabSize()+t,e)}).join("\n"):this.Source},tabsSize:function(){var t;return this.lineEach(function(e){var n=new N.StringSource(e).tabSize();(void 0==t||t>n)&&(t=n)}),t},tabsAlign:function(){var t,e=0;return this.lineEach(function(n){var r=new N.StringSource(n).tabSize();return void 0==t?(t=0,n):(r>t?e++:t>r&&e--,t=r,new N.StringSource(n).tabAbsolute(e))})},setTabsAlign:function(){return this.Source=this.tabsAlign(),this},trimLine:function(){return this.lineEach(function(t){var e=t.trim();return""==e?void 0:t})},setTrimLine:function(){return this.Source=this.trimLine(),this},trim:function(){return this.Source.trim()},setTrim:function(){return this.Source=this.trim(),this},abilityFunction:function(t,e,n){var r=1==n?N.safeSplit(this.Source,t,["{}","[]",'""',"''"]):this.Source.trim().split(t);return""==r[r.length-1].trim()&&(r.length=r.length-1),new N.Array(r).isAll(function(t,n){return t.indexOf(e)>0})?r.length:0},abilityObject:function(){return this.abilityFunction(",",":",!0)},abilityParameter:function(){return this.abilityFunction("&","=")},abilityCss:function(){return this.abilityFunction(";",":")},isDataContent:function(t){var e=this.abilityObject(),n=this.abilityCss(),r=this.abilityParameter();return N.isWrap(this.Source,"[]")?"array":1==t&&1==N.isWrap(this.Source,"''",'""')?"plain":1==t&&N.isWrap(this.Source,"{}")||e>0&&e>=n&&e>=r?"object":r>0?/^<\w+/i.test(this.Source)&&/\w+>$/i.test(this.Source)?"plain":"parameter":e>0?"css":"plain"},getDataContentWithPattrn:function(t,e,n){return new N.Array(1==n?N.safeSplit(this.Source,t,["{}","[]",'""',"''"]):this.Source.trim().split(t)).inject({},function(t,r){var i=t.substr(t.indexOf(e)+1);return t.trim().length>0&&(r[N.unwrap(t.substr(0,t.indexOf(e)),['""',"''"])]=N.unwrap(1==n?new N.StringSource(i).getContentObject(!0):i,['""',"''"])),r})},getContentObject:function(t){switch(this.isDataContent(t)){case"object":return this.getDataContentWithPattrn(",",":",!0);case"parameter":return this.getDataContentWithPattrn("&","=");case"css":return this.getDataContentWithPattrn(";",":");case"array":var e=N.safeSplit(this.Source,",",["{}","[]",'""',"''"]);return""==e?[]:new N.Array(e).inject([],function(t,e){return e.push(N.unwrap(new N.StringSource(t).getContentObject(!0),["''",'""'])),e});case"plain":return isNaN(this.Source)||""===this.Source?this.Source:0==this.Source.indexOf("0x")?parseInt(this.Source,16):parseFloat(this.Source)}},JSON:function(){return JSON.stringify(this.getContentObject())},reverse:function(){return this.Source.split("").reverse().join("")},setReverse:function(){return this.Source=this.reverse(),this},getRemove:function(t){var e=this.Source.indexOf(t);if(0>e)return this.Source;var n=t.length;return this.Source.substr(0,e)+this.Source.substr(e+n,this.Source.length)},remove:function(t){return this.Source=this.getRemove(t),this},removeToken:function(t,e){e=e?e:" ";var n=this.Source.split(e),r=[];if("string"==typeof t&&(t=new RegExp("("+t.replace(new RegExp(e+"+","g"),"|")+")","g")),t instanceof RegExp)for(var i=0,o=n.length;o>i;i++)0==t.test(n[i])&&r.push(n[i]);return r.join(e)},setRemoveToken:function(t,e){return this.Source=this.removeToken(t,e),this},hasToken:function(t,e){e=e?e:" ";for(var n=this.Source.split(e),r=0,i=n.length;i>r;r++)if(n[r]==t)return!0;return!1},addToken:function(t,e){return e=e?e:" ",this.hasToken(t,e)?this.Source:this.Source+e+t},setAddModel:function(t,e){return this.Source=this.addToken(t,e),this},fixString:function(t,e){return("string"==typeof t?t:"")+this.Source+("string"==typeof e?e:"")}},function(t,e){return"undefined"==typeof t||null==t?this.Source="":this.Source=N.toString(t,10,e),this})}(nd,nd.CORE)}();